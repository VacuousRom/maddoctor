(function(e){function t(t){for(var s,r,o=t[0],c=t[1],l=t[2],p=0,u=[];p<o.length;p++)r=o[p],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&u.push(a[r][0]),a[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);d&&d(t);while(u.length)u.shift()();return n.push.apply(n,l||[]),i()}function i(){for(var e,t=0;t<n.length;t++){for(var i=n[t],s=!0,o=1;o<i.length;o++){var c=i[o];0!==a[c]&&(s=!1)}s&&(n.splice(t--,1),e=r(r.s=i[0]))}return e}var s={},a={app:0},n=[];function r(t){if(s[t])return s[t].exports;var i=s[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=s,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(i,s,function(t){return e[t]}.bind(null,s));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/maddoctor/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var d=c;n.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"0139":function(e,t,i){e.exports=i.p+"img/placeholder.0353f17b.svg"},"034f":function(e,t,i){"use strict";var s=i("85ec"),a=i.n(s);a.a},"038c":function(e,t,i){e.exports=i.p+"img/cog.6e99bd79.svg"},"038e":function(e,t,i){e.exports=i.p+"img/poison.a05b0d56.svg"},"0443":function(e,t,i){e.exports=i.p+"img/map.19972d4f.svg"},"04ee":function(e,t,i){e.exports=i.p+"img/rotting-brain-transparent.5783e175.svg"},"0879":function(e,t,i){e.exports=i.p+"img/minotaur.5ba6369d.svg"},"0b4d":function(e,t,i){},"0beb":function(e,t,i){e.exports=i.p+"img/bone-legs.c84165c7.svg"},"0d13":function(e,t,i){e.exports=i.p+"img/template-creature-portrait.d76a1ea1.svg"},"0d4a":function(e,t,i){e.exports=i.p+"img/brain-parasite.701ec0ba.svg"},"0d79":function(e,t,i){e.exports=i.p+"img/peasant.2a0fb0cb.svg"},"0e6b":function(e,t,i){},1002:function(e,t,i){e.exports=i.p+"img/dead-ico.4eb71bb3.svg"},1683:function(e,t,i){},1767:function(e,t,i){e.exports=i.p+"img/automaton.d76a1ea1.svg"},"17ef":function(e,t,i){e.exports=i.p+"img/blacksmith.98435d29.svg"},1859:function(e,t,i){e.exports=i.p+"img/executioner.ec8d2258.svg"},"1d9f":function(e,t,i){},2004:function(e,t,i){},"221d":function(e,t,i){e.exports=i.p+"img/switch.dbfd8ce3.svg"},"232c":function(e,t,i){},"23a4":function(e,t,i){e.exports=i.p+"img/bull-head.50abd4e6.svg"},"23c8":function(e,t,i){"use strict";var s=i("232c"),a=i.n(s);a.a},"29fb":function(e,t,i){e.exports=i.p+"img/werewolf-claws.f98f5f23.svg"},"2f3c":function(e,t,i){e.exports=i.p+"img/slash-transparent.59882a82.svg"},"30ea":function(e,t,i){"use strict";var s=i("fa27"),a=i.n(s);a.a},"33b6":function(e,t,i){"use strict";var s=i("ada2"),a=i.n(s);a.a},3524:function(e,t,i){e.exports=i.p+"img/hourglass-no-bg.119efae8.svg"},"3a58":function(e,t,i){e.exports=i.p+"img/necromancy-book.1955c0ae.svg"},"42d1":function(e,t,i){},4416:function(e,t,i){e.exports=i.p+"img/town.142ea39e.svg"},"44e3":function(e,t,i){},"46a2":function(e,t,i){e.exports=i.p+"img/vampire-girl-claws.e5acefaf.svg"},"4bba":function(e,t,i){e.exports=i.p+"img/werewolf.71753347.svg"},"4cfb":function(e,t,i){"use strict";var s=i("44e3"),a=i.n(s);a.a},"4e09":function(e,t,i){"use strict";var s=i("ea9f"),a=i.n(s);a.a},"4f4f":function(e,t,i){"use strict";var s=i("0e6b"),a=i.n(s);a.a},"56d7":function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d");var s=i("2b0e"),a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("div",{attrs:{id:"nav"}}),i("transition",{attrs:{name:"menu",mode:"out-in"}},[e.newGame?e._e():i("home"),e.newGame?i("game-component"):e._e()],1)],1)},n=[],r=(i("b0c0"),new s["a"]({data:{gameState:{isNewGame:!1,characterCreated:!1,turnCounter:1,madeCreatures:0,enemyUnits:[],usesOfMislead:0},playerCharacter:{},eventLog:[]}})),o=new s["a"]({data:{},methods:{UnitOfOrder:function(e,t,i,s,a,n,r,o,c,l,d){this.name=e,this.hp=t,this.maxHp=i,this.dmg=s,this.imgUrl=a,this.initiative=n,this.owner=r,this.absorption=o,this.regeneration=c,this.value=l,this.position=d},createPeasant:function(){var e=new this.UnitOfOrder("Peasant",4,4,1,"peasant.svg",1,"enemy",0,0,1,1);return e},createBlacksmith:function(){var e=new this.UnitOfOrder("Blacksmith",10,10,3,"blacksmith.svg",3,"enemy",0,0,3,1);return e},createPikeman:function(){var e=new this.UnitOfOrder("Pikeman",20,20,4,"pikeman.svg",6,"enemy",3,0,10,1);return e},createExecutioner:function(){var e=new this.UnitOfOrder("Executioner",36,36,8,"executioner.svg",4,"enemy",1,0,20,1);return e},createAssassin:function(){var e=new this.UnitOfOrder("Assassin",27,27,21,"assassin.svg",23,"enemy",0,0,40,1);return e.poisonDuration=3,e.poisonDmg=2,e},createKnight:function(){var e=new this.UnitOfOrder("Knight",60,60,10,"knight.svg",8,"enemy",10,0,60,1);return e}}}),c=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"menu-screen"},[e._m(0),e.loadOpened?e._e():i("ul",{staticClass:"menu-options"},[i("li",{staticClass:"option btn",on:{click:e.newGame}},[e._v("NEW GAME")]),i("li",{staticClass:"option btn",on:{click:function(t){e.loadOpened=!0}}},[e._v("LOAD ")]),i("li",{staticClass:"option btn",on:{click:function(t){e.displayInfo=!0}}},[e._v("INFO")])]),e.loadOpened?i("ul",{staticClass:"saved-games menu-options"},[i("h2",[e._v("LOAD A SAVED GAME")]),i("li",{staticClass:"autosave-load btn",on:{click:e.loadAutosave}},[e._v("AUTOSAVE")]),i("li",{staticClass:"btn",on:{click:function(t){e.loadOpened=!1}}},[e._v("CANCEL")])]):e._e(),e.displayInfo?i("div",{staticClass:"info-modal"},[e._m(1),i("div",{staticClass:"confirmation-btns"},[i("div",{staticClass:"btn",on:{click:function(t){e.displayInfo=!1}}},[e._v("CLOSE")])])]):e._e()])},l=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"title"},[i("h1",{staticClass:"title-header"},[e._v("MAD DOCTOR")]),i("div",{staticClass:"big-cog-one cogs"},[i("i",{staticClass:"fas fa-cog fa-3x "})]),i("div",{staticClass:"small-cog-two cogs"},[i("i",{staticClass:"fas fa-cog fa-2x "})])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"info-modal-content-wrapper"},[i("h1",[e._v("HOW TO PLAY")]),i("h3",[e._v("Welcome to Mad Doctor!")]),i("p",[e._v("This is a crafting game, in which you play as a mad scientist trying to create monstrous atrocities from various body parts. Every turn you start with a limited amount of "),i("span",{staticClass:"highlighted"},[e._v("Action Points")]),e._v(", which are used for actions like digging for body parts and bringing your creations to life. End the turn to reset your "),i("span",{staticClass:"highlighted"},[e._v("Action Points")]),e._v(" when they are depleted.")]),i("p",[e._v("Beware however, as not everyone is happy with you digging up corpses of their friends and loved ones. Citizens of the nerbay town get more restless the more body parts you dig up. If "),i("span",{staticClass:"highlighted"},[e._v("Hostility Meter")]),e._v(" fills up, they organise a raiding party to tear down your laboratory. The only thing that can defend you is the monsters you have created, so better create as much of them as you can!")])])}],d={data:function(){return{displayInfo:!1,loadOpened:!1}},methods:{newGame:function(){r.gameState.isNewGame=!0},loadAutosave:function(){0!==localStorage.length&&(r.gameState=JSON.parse(localStorage.getItem("autosaveGameState")),r.playerCharacter=JSON.parse(localStorage.getItem("autosavePlayerCharacter")),this.turnCounter=r.gameState.turnCounter,this.playersWins=+localStorage.getItem("playersWins"),r.playerCharacter.magicFind=function(){return 2*this.statistics.Luck+this.MFbonus},r.playerCharacter.calculateActionPoints=function(){var e=Math.floor(this.statistics.Endurance/3);return e>1?e+this.ManOfAction:1+this.ManOfAction},r.playerCharacter.experienceForNextLevel=function(){return 500*this.level},this.playerAttacked=!1,this.unitsOfOrder=[],this.menuOpened=!1,this.inventoryOpened=!1,this.creationsOpened=!1,this.workshopOneped=!1,this.graveyardOpened=!1)}}},p=d,u=(i("ba6c"),i("2877")),m=Object(u["a"])(p,c,l,!1,null,"2b42047e",null),h=m.exports,y=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"game-component"},[e.gameState.characterCreated?e._e():i("create-character"),e.gameState.characterCreated?i("main-screen"):e._e()],1)},v=[],f=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"character-creation"},[i("div",{staticClass:"character-creation-container"},[i("div",{staticClass:"character-sheet"},[e._m(0),i("div",{staticClass:"character-sheet-columns-wrapper"},[i("div",{staticClass:"character-sheet-column-1"},[i("div",{staticClass:"character-sheet-name"},[e._v("Name: "+e._s(e.playerCharacter.name))]),i("div",{staticClass:"character-sheet-lev"},[e._v("Level: "+e._s(e.playerCharacter.level))]),i("div",{staticClass:"character-sheet-experience"},[e._v("Experience: "+e._s(e.playerCharacter.experience))]),i("div",{staticClass:"character-sheet-nxtLvlExp"},[e._v("Experience for next level: "+e._s(e.playerCharacter.experienceForNextLevel()))]),i("div",{staticClass:"character-sheet-statistics"},[i("ul",{staticClass:"statistics-ul"},[e._m(1),i("li",[e._v("Endurance: "+e._s(e.playerCharacter.statistics.Endurance)+" ")]),i("li",[e._v("Intelligence: "+e._s(e.playerCharacter.statistics.Intelligence))]),i("li",[e._v("Luck: "+e._s(e.playerCharacter.statistics.Luck))]),i("li",[e._v("Magic find: "+e._s(e.playerCharacter.magicFind())+" ")]),i("li",[e._v("Action points: "+e._s(e.playerCharacter.calculateActionPoints()))])])])]),i("div",{staticClass:"character-sheet-column-2"},[i("div",{staticClass:"skills-wrapper"},[i("div",{staticClass:"skills-display-name"},[i("h4",[e._v("Skill effects:")]),i("ul",{staticClass:"skill-list-sheet"},e._l(e.playerCharacter.skillsSelected,(function(t,s){return i("li",{key:s},[e._v(e._s(t.effectDesc))])})),0)])]),i("ul",{staticClass:"skills-list"}),i("div",{staticClass:"inventory-sheet-display"},[i("h4",[e._v("Inventory:")]),i("p",[e._v("Gold: "+e._s(e.playerCharacter.gold))]),i("div",{staticClass:"inventory-sheet-list"},[JSON.stringify(e.playerCharacter.inventory.craftingParts.heads)!=={}?i("div",{staticClass:"inventory-heads-wrapper"},e._l(e.playerCharacter.inventory.craftingParts.heads,(function(t,s){return i("ul",{key:s,staticClass:"crafts-inventory-list"},[i("li",[e._v(e._s(t.name))])])})),0):e._e(),JSON.stringify(e.playerCharacter.inventory.craftingParts.arms)!=={}?i("div",{staticClass:"inventory-arms-wrapper"},e._l(e.playerCharacter.inventory.craftingParts.arms,(function(t,s){return i("ul",{key:s,staticClass:"crafts-inventory-list"},[i("li",[e._v(e._s(t.name))])])})),0):e._e(),JSON.stringify(e.playerCharacter.inventory.craftingParts.hearts)!=={}?i("div",{staticClass:"inventory-hearts-wrapper"},e._l(e.playerCharacter.inventory.craftingParts.hearts,(function(t,s){return i("ul",{key:s,staticClass:"crafts-inventory-list"},[i("li",[e._v(e._s(t.name))])])})),0):e._e(),JSON.stringify(e.playerCharacter.inventory.craftingParts.torsos)!=={}?i("div",{staticClass:"inventory-torsos-wrapper"},e._l(e.playerCharacter.inventory.craftingParts.torsos,(function(t,s){return i("ul",{key:s,staticClass:"crafts-inventory-list"},[i("li",[e._v(e._s(t.name))])])})),0):e._e(),JSON.stringify(e.playerCharacter.inventory.craftingParts.legs)!=={}?i("div",{staticClass:"inventory-legs-wrapper"},e._l(e.playerCharacter.inventory.craftingParts.legs,(function(t,s){return i("ul",{key:s,staticClass:"crafts-inventory-list"},[i("li",[e._v(e._s(t.name))])])})),0):e._e(),JSON.stringify(e.playerCharacter.inventory.craftingParts.brains)!=={}?i("div",{staticClass:"inventory-brains-wrapper"},e._l(e.playerCharacter.inventory.craftingParts.brains,(function(t,s){return i("ul",{key:s,staticClass:"crafts-inventory-list"},[i("li",[e._v(e._s(t.name))])])})),0):e._e(),JSON.stringify(e.playerCharacter.inventory.necroBooks)!=={}?i("div",{staticClass:"inventory-necbooks-wrapper"},e._l(e.playerCharacter.inventory.necroBooks,(function(t,s){return i("ul",{key:s,staticClass:"crafts-inventory-list"},[i("li",[e._v(e._s(t.name))])])})),0):e._e(),JSON.stringify(e.playerCharacter.inventory.necroRecipes)!=={}?i("div",{staticClass:"inventory-necbooks-wrapper"},e._l(e.playerCharacter.inventory.necroRecipes,(function(t,s){return i("ul",{key:s,staticClass:"crafts-inventory-list"},[i("li",[e._v(e._s(t.name))])])})),0):e._e()])])])])]),i("div",{staticClass:"character-buttons"},[i("ul",{staticClass:"buttons-list"},[i("li",{staticClass:"char-name-btn btn",on:{click:e.typeName}},[e._v("NAME")]),i("li",{staticClass:"char-name-btn btn",on:{click:e.distributeStats}},[e._v("STATISTICS")]),i("li",{staticClass:"char-name-btn btn",on:{click:e.selectSkills}},[e._v("SKILLS")]),i("li",{staticClass:"char-name-btn btn",on:{click:e.openShopFn}},[e._v("ITEMS")])])])]),e.nameDisplay?i("div",{staticClass:"name-entry"},[i("div",{staticClass:"name-entry-container"},[i("div",{staticClass:"name-display-row"},[i("div",{staticClass:"name-display"},[e._v("Choose a name:")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.playerCharacter.name,expression:"playerCharacter.name"}],attrs:{type:"text"},domProps:{value:e.playerCharacter.name},on:{input:function(t){t.target.composing||e.$set(e.playerCharacter,"name",t.target.value)}}})]),i("div",{staticClass:"close-btn btn",on:{click:e.close}},[e._v(" DONE ")])])]):e._e(),e.statsDisplay?i("div",{staticClass:"statistics-distribution"},[i("h2",[e._v("DISTRIBUTE STATISTIC POINTS")]),e._m(2),i("h2",[e._v(" Points left: "+e._s(e.playerCharacter.statisticsPointAllowance)+" ")]),i("div",{staticClass:"statistics-list-grid"},[i("ul",{staticClass:"statistics-ul-modal"},[i("li",[e._v("Endurance: "),i("span",{staticClass:"current-endurance"},[e._v(e._s(e.playerCharacter.statistics.Endurance))]),e._v(" "),i("span",{staticClass:"increase-endurance distribute-stat",on:{click:function(t){return e.increaseStat("Endurance")}}},[e._v("+")]),i("span",{staticClass:"decrease-endurance distribute-stat",on:{click:function(t){return e.decreaseStat("Endurance")}}},[e._v("-")])]),i("li",[e._v("Intelligence: "),i("span",{staticClass:"current-intelligence"},[e._v(e._s(e.playerCharacter.statistics.Intelligence))]),e._v(" "),i("span",{staticClass:"increase-intelligence distribute-stat",on:{click:function(t){return e.increaseStat("Intelligence")}}},[e._v("+")]),i("span",{staticClass:"decrease-intelligence distribute-stat",on:{click:function(t){return e.decreaseStat("Intelligence")}}},[e._v("-")])]),i("li",[e._v("Luck: "),i("span",{staticClass:"current-luck"},[e._v(e._s(e.playerCharacter.statistics.Luck))]),e._v(" "),i("span",{staticClass:"increase-luck distribute-stat",on:{click:function(t){return e.increaseStat("Luck")}}},[e._v("+")]),i("span",{staticClass:"decrease-luck distribute-stat",on:{click:function(t){return e.decreaseStat("Luck")}}},[e._v("-")])])])]),i("div",{staticClass:"close-name-display-btn btn",on:{click:e.close}},[e._v(" DONE ")])]):e._e(),e.skillsDisplay?i("div",{staticClass:"skill-selection"},[i("h1",[e._v("SELECT SKILLS")]),i("p",[e._v("Number of skill points depends on intelligence statistic")]),i("h3",[e._v("Available skill points: "),i("span",[e._v(e._s(e.calcSkillPoints))])]),i("div",{staticClass:"skill-display-grid"},e._l(e.playerCharacter.skills,(function(t){return i("div",{key:t.number,staticClass:"skill-item",on:{click:function(i){return e.selectSkill(t)}}},[i("div",{staticClass:"skill-name"},[i("h3",[e._v(e._s(t.name))])]),i("div",{staticClass:"skill-description"},[e._v(e._s(t.description))]),i("div",{staticClass:"skill-explanation"},[i("span",{staticClass:"highlighted"},[e._v(e._s(t.effectDesc))])])])})),0),i("div",{staticClass:"chosen-skills-display"},[i("h3",[e._v("Chosen skills:")]),i("ul",{staticClass:"chosen-skills-list"},e._l(e.playerCharacter.skillsSelected,(function(t,s){return i("li",{key:s},[e._v(e._s(t.name)+" ("+e._s(t.effectDesc)+")")])})),0)]),i("div",{staticClass:"btns-container"},[i("div",{staticClass:"close-name-display-btn btn",on:{click:e.close}},[e._v("DONE")]),i("div",{staticClass:"close-name-display-btn btn",on:{click:e.resetSkills}},[e._v("RESET")])])]):e._e(),e.openShop?i("shop-component",{staticClass:"first-shop",attrs:{itemsList:e.availableItems,goldAmount:e.playerCharacter.gold},on:{closeShop:function(t){return e.updateFromShop(t)},addItemToInventory:function(t){return e.addBoughtItem(t)}}}):e._e(),i("div",{staticClass:"btns-container"},[i("div",{staticClass:"done-creation btn",on:{click:e.finishCreationCheck}},[e._v("ACCEPT")]),i("div",{staticClass:"back-btn btn",on:{click:e.backToMenu}},[e._v("BACK")])]),i("transition",{attrs:{name:"show-modal"}},[e.displayInfo?i("div",{staticClass:"info-modal"},[i("p",[e._v(e._s(this.message))])]):e._e()]),e.confirm?i("div",{staticClass:"confirmation-modal"},[i("h1",[e._v("UNDISTRIBUTED POINTS")]),i("h1",[e._v(e._s(this.message))]),i("div",{staticClass:"confirmation-btns"},[i("div",{staticClass:"btn",on:{click:e.exportCharToStore}},[e._v("ACCEPT")]),i("div",{staticClass:"btn",on:{click:function(t){e.confirm=!1}}},[e._v("CANCEL")])])]):e._e()],1)},g=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"character-sheet-title"},[i("h3",[e._v("Character sheet")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("li",[i("h4",[e._v("Statistics:")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"skills-explanation"},[i("p",[e._v("Endurance determines how much "),i("span",{staticClass:"highlighted"},[e._v("Action Points")]),e._v(" you have available per turn. For every 3 points of endurance you get an "),i("span",{staticClass:"highlighted"},[e._v("Action Point")]),e._v(".")]),i("p",[e._v("Intelligence determines how much "),i("span",{staticClass:"highlighted"},[e._v("Skill Points")]),e._v(" you can spend on your skills. You get one "),i("span",{staticClass:"highlighted"},[e._v("Skill Point")]),e._v(" per 3 intelligence points.")]),i("p",[e._v("Luck governs the "),i("span",{staticClass:"highlighted"},[e._v("Magic Find")]),e._v(" parameter, determining how much and how good items you will get by digging up graves.")])])}],C=(i("4160"),i("caad"),i("2532"),i("159b"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"shop-component"},[e._m(0),i("div",{staticClass:"player-gold"},[i("h3",[e._v("Gold: "+e._s(e.playerGold))])]),i("div",{staticClass:"shop-items-grid"},[i("h3",[e._v("Available items:")]),e._l(e.itemsList,(function(t,s){return i("item",{key:s,attrs:{item:t,price:t.cost},nativeOn:{click:function(i){return e.selectItem(t)}}})}))],2),i("div",{staticClass:"selected-item"},[i("h3",[e._v("Selected item:")]),e.itemSelected?i("item",{attrs:{item:e.selectedItem}}):e._e(),e.itemSelected?e._e():i("div",{staticClass:"no-item-selected-text"},[e._v(" Select an item to buy ")]),i("div",{staticClass:"gold-cost-display"},[e._v(" Cost: "+e._s(e.currentItemCost)+" ")])],1),i("div",{staticClass:"shop-buttons"},[i("div",{staticClass:"buy-button buy btn",on:{click:e.addItemToInventory}},[e._v(" BUY ")]),i("div",{staticClass:"close-button btn",on:{click:e.closeShop}},[e._v(" RETURN ")])]),i("transition",{attrs:{name:"show-modal"}},[e.displayInfo?i("div",{staticClass:"info-modal"},[i("p",[e._v(e._s(this.message))])]):e._e()])],1)}),b=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"shop-name"},[i("h2",[e._v("SHOP")]),i("h3",{staticClass:"buy-items"},[e._v("Buy items")])])}],_=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:{item:!e.isLong,"item-lg":e.isLong}},[s("img",{staticClass:"item-image",attrs:{alt:"",src:i("67f7")("./"+e.item.imgUrl)}}),s("div",{staticClass:"item-name"},[e._v(" "+e._s(e.item.name)+" ")]),s("div",{staticClass:"item-desc"},[e._v(" "+e._s(e.item.desc)+" "),e.item.bookStats?s("span",[e._v(" "+e._s(e.item.bookStats)+" ")]):e._e()]),s("div",{staticClass:"item-stats"},[e.item.bookSummons?s("span",{staticStyle:{"grid-column":"span 3"}},[e._v(" "+e._s(e.item.bookSummons)+" ")]):e._e(),"craft"===e.item.function?s("span",[e._v("Hit points: "+e._s(e.item.HPmod)+" ")]):e._e(),"craft"===e.item.function?s("span",[e._v("Initiative: "+e._s(e.item.initiativeMod)+" ")]):e._e(),"craft"===e.item.function?s("span",[e._v("Damage: "+e._s(e.item.damageMod))]):e._e(),"craft"===e.item.function?s("span",{staticStyle:{"grid-column":"span 3"}},[e._v("Available in: "+e._s(e.item.availability))]):e._e(),e.price?s("span",[e._v("Price: "+e._s(e.price))]):e._e(),e.sellValue?s("span",[e._v("Sell value: "+e._s(e.sellValue))]):e._e()])])},k=[],U={props:["item","price","sellValue"],computed:{isLong:function(){return this.item.desc.length>=40}}},O=U,S=(i("8ba1"),Object(u["a"])(O,_,k,!1,null,null,null)),M=S.exports,w={components:{item:M},props:["itemsList","goldAmount"],data:function(){return{selectedItem:{},displayInfo:!1,message:"",currentItemCost:0,boughtItemsValue:0}},methods:{closeShop:function(){this.$emit("closeShop",this.playerGold)},selectItem:function(e){this.selectedItem=e,this.updateCostDisplayed()},addItemToInventory:function(){if(this.playerGold-this.selectedItem.cost>=0)this.$emit("addItemToInventory",this.selectedItem),this.displayInfoFn("Item bought."),this.boughtItemsValue+=this.selectedItem.cost,this.selectedItem={},this.updateCostDisplayed();else{if("{}"!==JSON.stringify(this.selectedItem))return void this.displayInfoFn("You can't afford this item!");this.displayInfoFn("Select an item to buy!")}},displayInfoFn:function(e){var t=this;this.displayInfo=!0,this.message=e,setTimeout((function(){t.displayInfo=!1}),900)},updateCostDisplayed:function(){"{}"!==JSON.stringify(this.selectedItem)?this.currentItemCost=this.selectedItem.cost:this.currentItemCost=0}},computed:{itemSelected:function(){return"{}"!==JSON.stringify(this.selectedItem)},playerGold:function(){return this.goldAmount-this.boughtItemsValue}}},T=w,I=(i("4f4f"),Object(u["a"])(T,C,b,!1,null,"e47a442a",null)),N=I.exports,A=new s["a"]({data:{heads:[{name:"Rotting Human Head",imgUrl:"rotting-head.svg",desc:"rotting head of a decomposing corpse",type:"heads",value:1,HPmod:1,number:1,function:"craft",cost:50,initiativeMod:0,damageMod:0,regeneration:0,absorption:0,availability:"automaton, necromancy"},{name:"Bull's Head",imgUrl:"bull-head.svg",desc:"Head of a bull with massive horns",type:"heads",value:60,HPmod:10,number:2,function:"craft",cost:100,initiativeMod:1,damageMod:3,regeneration:0,absorption:0,availability:"automaton"},{name:"Cracked Skull",imgUrl:"cracked-skull.svg",desc:"Crakced skull of low quality.",type:"heads",value:1,HPmod:1,number:3,function:"craft",cost:50,initiativeMod:0,damageMod:0,regeneration:0,absorption:1,creation:"skeleton",availability:"necromancy"},{name:"Werewolf's Head",imgUrl:"werewolf-head.svg",desc:"Werewolf's flesh is highly regenerative.",type:"heads",value:91,HPmod:25,number:4,function:"craft",cost:500,initiativeMod:5,damageMod:5,absorption:0,regeneration:3,creation:"werewolf",availability:"automaton"},{name:"Vampire's Head",imgUrl:"vampire-girl-head.svg",desc:"Someone somehow managed to fell her and cut her head off.",type:"heads",value:100,HPmod:65,number:7,function:"craft",cost:7e3,initiativeMod:25,damageMod:15,absorption:3,regeneration:3,creation:"vampire",availability:"necromancy"}],arms:[{name:"Rotting Human Arms",imgUrl:"rotting-arm.svg",desc:"rotting head of a decomposing corpse",type:"arms",value:1,HPmod:1,number:2,function:"craft",cost:50,initiativeMod:1,damageMod:1,regeneration:0,absorption:0,availability:"automaton, necromancy"},{name:"Brittle Skeletal Arms",imgUrl:"bone-arms.svg",desc:"Arm bones of low quality",type:"arms",value:1,HPmod:1,number:2,function:"craft",cost:50,initiativeMod:1,damageMod:1,regeneration:0,absorption:1,creation:"skeleton",availability:"necromancy"},{name:"Werewolf's Claws",imgUrl:"werewolf-claws.svg",desc:"Clawed arms of a werewolf.",type:"arms",value:91,HPmod:15,number:3,function:"craft",cost:500,initiativeMod:10,damageMod:10,regeneration:3,absorption:0,creation:"werewolf",availability:"automaton"},{name:"Vampire's Claws",imgUrl:"vampire-girl-claws.svg",desc:"Arms of a vampire. Highly resistant, inhumanly strong.",type:"arms",value:100,HPmod:70,number:7,function:"craft",cost:7e3,initiativeMod:35,damageMod:20,regeneration:3,absorption:3,creation:"vampire",availability:"necromancy"},{name:"Fresh Human Arms",imgUrl:"fresh-arms.svg",desc:"Freshly cut, with strong muscles and sinew.",type:"arms",value:50,HPmod:10,number:5,function:"craft",cost:700,initiativeMod:3,damageMod:3,regeneration:0,absorption:0,availability:"automaton"}],torsos:[{name:"Rotting Human Torso",imgUrl:"rotting-torso.svg",desc:"Deeply decomposed torso.",type:"torsos",value:1,HPmod:1,number:3,function:"craft",cost:50,initiativeMod:0,damageMod:0,regeneration:0,absorption:0,availability:"automaton, necromancy"},{name:"Brittle Rib Cage",imgUrl:"ribcage.svg",desc:"Low quality rib cage.",type:"torsos",value:1,HPmod:1,number:3,function:"craft",cost:50,initiativeMod:0,damageMod:0,regeneration:0,absorption:1,creation:"skeleton",availability:"necromancy"},{name:"Vampire's Torso",imgUrl:"vampire-girl-torso.svg",desc:"Body of a vampire. Resistant to blows, regenerative.",type:"torsos",value:100,HPmod:100,number:7,function:"craft",cost:7e3,initiativeMod:5,damageMod:0,regeneration:5,absorption:3,creation:"vampire",availability:"necromancy"}],legs:[{name:"Rotting Human Legs",imgUrl:"rotting-leg.svg",desc:"rotting head of a decomposing corpse",type:"legs",value:1,HPmod:1,number:4,function:"craft",cost:50,initiativeMod:0,damageMod:0,regeneration:0,absorption:0,availability:"automaton, necromancy"},{name:"Brittle Skeletal Legs",imgUrl:"bone-legs.svg",desc:"Low quality leg bones.",type:"legs",value:1,HPmod:1,number:4,function:"craft",cost:50,initiativeMod:0,damageMod:0,regeneration:0,absorption:1,creation:"skeleton",availability:"necromancy"},{name:"Vampire's Legs",imgUrl:"vampire-girl-legs.svg",desc:"Cut off in hope that the owner won't regenerate them back.",type:"legs",value:100,HPmod:30,number:7,function:"craft",cost:7e3,initiativeMod:15,damageMod:0,regeneration:3,absorption:3,creation:"vampire",availability:"necromancy"}],brains:[{name:"Rotting Human Brain",imgUrl:"rotting-brain.svg",desc:"Taken from a dated corspe, barely holding form.",type:"brains",value:1,HPmod:1,number:5,function:"craft",cost:60,initiativeMod:1,damageMod:1,regeneration:0,absorption:0,availability:"automaton, demonology"},{name:"Brain parasite",imgUrl:"brain-parasite.svg",desc:"These worms can take control over the nervous system, making host reckless, but very ferocious.",type:"brains",value:35,HPmod:1,number:6,function:"craft",cost:400,initiativeMod:6,damageMod:3,regeneration:0,absorption:0,availability:"automaton, demonology"}],hearts:[{name:"Rotting Human Heart",imgUrl:"rotting-heart.svg",desc:"Shrivelled and gaping, stopped long ago.",type:"hearts",value:1,HPmod:1,number:6,function:"craft",cost:60,initiativeMod:0,damageMod:0,regeneration:0,absorption:0,availability:"automaton, demonology"},{name:"Heart of a Troll",imgUrl:"trollheart.svg",desc:"Its regenerative properties spread through the subject's body.",type:"hearts",value:50,HPmod:5,number:7,function:"craft",cost:600,initiativeMod:0,damageMod:0,regeneration:3,absorption:0,availability:"automaton, demonology"}],necroBooks:[{name:"Necromancy Book (1)",imgUrl:"necromancy-book.svg",desc:"Basic necromancy book.",type:"necroBooks",value:1,number:5,function:"necroBook",cost:80,bookStats:"Allows to raise simple undead creatures.",bookSummons:"Raise: zombie, skeleton"},{name:"Necromancy Book (3)",imgUrl:"necromancy-book3.svg",desc:"Forbidden necromancy book.",type:"necroBooks",value:100,number:5,function:"necroBook",cost:7e3,bookStats:"Allows to raise vampires.",bookSummons:"Raise: vampire."}],necroRecipes:[{name:"Raise Zombie",imgUrl:"zombie.svg",desc:"Allows to raise a zombie.",type:"necroRecipes",value:1,HPmod:6,number:5,function:"necroRecipes",cost:20,bookStats:"A zombie requires: Rotting Head, Rotting Arms, Rotting Torso, Rotting Legs",creation:"To raise a zombie you need a Rotting Head, Rotting Arms, Rotting Torso, Rotting Legs, and a basic Necromancy Book (1). Should you fail to provide these body parts, the spell won't work."},{name:"Raise Skeleton",imgUrl:"skeleton.svg",desc:"Allows to raise a skeleton.",type:"necroRecipes",value:1,HPmod:0,number:5,function:"necroRecipes",cost:20,bookStats:"A skeleton requires bone body parts in every slot.",creation:"To raise a skeleton you need bone body parts in every slot and a basic Necromancy Book(I). Should you fail to provide these body parts, the spell won't work."},{name:"Raise Vampire",imgUrl:"vampire-girl.svg",desc:"She would have came back to life sooner or later anyway.",type:"necroRecipes",value:100,HPmod:5,number:7,function:"necroRecipes",cost:7e3,bookStats:"Find her body parts, and she will repay you in kind.",creation:"To raise a vampire you need vampiric body parts in every slot and a Forbidden Necromancy Book(3). Should you fail to provide these body parts, the spell won't work."}],demoBooks:[{name:"Demonology Book (1)",imgUrl:"demonology-book.svg",desc:"Basic demonology book.",type:"demoBooks",value:1,number:5,function:"demoBook",cost:80,bookStats:"Allows to summon lesser deamons.",bookSummons:"Summon: lesser satyr"}],demoRecipes:[{name:"Summon Lesser Satyr",imgUrl:"imp.svg",desc:"Allows to summon a lesser satyr.",type:"demoRecipes",value:1,number:5,function:"demoRecipes",cost:50,bookStats:"A lesser Satyr requires a human heart and a human brain. Low quality, unsurprisingly.",creation:"To summon a lesser satyr you need a rotting human heart, a rotting human brain and basic Demonology Book (1). Should you fail to provide these body parts, the spell won't work."}]},methods:{}}),P=new s["a"]({data:{firstShopItems:[{name:"Raise Skeleton",imgUrl:"skeleton.svg",desc:"Allows to raise a skeleton.",type:"necroRecipes",value:1,HPmod:0,number:5,function:"necroRecipes",cost:20,bookStats:"A skeleton requires bone body parts in every slot.",creation:"To raise a skeleton you need bone body parts in every slot and a basic Necromancy Book(I). Should you fail to provide these body parts, the spell won't work."},{name:"Raise Zombie",imgUrl:"zombie.svg",desc:"Allows to raise a zombie.",type:"necroRecipes",value:1,HPmod:2,number:5,function:"necroRecipes",cost:20,bookStats:"A zombie requires: Rotting Head, Rotting Arms, Rotting Torso, Rotting Legs",creation:"To raise a zombie you need a Rotting Head, Rotting Arms, Rotting Torso, Rotting Legs, and a basic Necromancy Book(I). Should you fail to provide these body parts, the spell won't work."},{name:"Bull's Head",imgUrl:"bull-head.svg",desc:"Head of a bull with massive horns",type:"heads",value:60,HPmod:10,number:2,function:"craft",cost:100,initiativeMod:1,damageMod:3,regeneration:0,absorption:0,availability:"automaton"},{name:"Necromancy Book (1)",imgUrl:"necromancy-book.svg",desc:"Basic necromancy book.",type:"necroBooks",value:1,number:5,function:"necroBook",cost:80,bookStats:"Allows to raise simple undead creatures.",bookSummons:"Raise: zombie, skeleton"},{name:"Rotting Human Head",imgUrl:"rotting-head.svg",desc:"rotting head of a decomposing corpse",type:"heads",value:1,HPmod:1,number:1,function:"craft",cost:50,initiativeMod:0,damageMod:0,regeneration:0,absorption:0,availability:"automaton, necromancy"},{name:"Rotting Human Legs",imgUrl:"rotting-leg.svg",desc:"rotting head of a decomposing corpse",type:"legs",value:1,HPmod:1,number:4,function:"craft",cost:50,initiativeMod:0,damageMod:0,regeneration:0,absorption:0,availability:"automaton, necromancy"},{name:"Rotting Human Torso",imgUrl:"rotting-torso.svg",desc:"Deeply decomposed torso.",type:"torsos",value:1,HPmod:1,number:3,function:"craft",cost:50,initiativeMod:0,damageMod:0,regeneration:0,absorption:0,availability:"automaton, necromancy"},{name:"Rotting Human Arms",imgUrl:"rotting-arm.svg",desc:"rotting head of a decomposing corpse",type:"arms",value:1,HPmod:1,number:2,function:"craft",cost:50,initiativeMod:1,damageMod:1,regeneration:0,absorption:0,availability:"automaton, necromancy"}]}}),B={components:{shopComponent:N},data:function(){return{availableItems:P.firstShopItems,playerCharacter:{hostilityLevel:0,name:"",experience:0,level:1,skillsFromLevels:0,experienceForNextLevel:function(){return 500*this.level},statistics:{Luck:1,Intelligence:1,Endurance:1},inventory:{craftingParts:{arms:[],legs:[],heads:[],torsos:[],brains:[],hearts:[]},necroBooks:[],necroRecipes:[],demoRecipes:[],demoBooks:[]},ManOfAction:0,MFbonus:0,necromancyHPbonus:0,demonologyHPbonus:0,automatonHPbonus:0,automatonDamageBonus:0,demonologyDamageBonus:0,werewolvesHpBonus:0,vampiresHpBonus:0,skillManagement:{amountOfSelectedSkills:0,manOfActionAdded:!1,nutsAndBoltsAdded:!1,hardWorkerAdded:!1,creaturesOfTheNightAdded:!1},gold:100,creatures:[],seenEnemies:[],magicFind:function(){return 2*this.statistics.Luck+this.MFbonus},calculateActionPoints:function(){var e=Math.floor(this.statistics.Endurance/3);return e>1?e+this.ManOfAction:1+this.ManOfAction},statisticsPointAllowance:10,skillsSelected:[],skills:[{number:1,name:"Nuts and Bolts",description:"Sometimes magic alone can't hold the dacaying flesh together. Boost stats of your zombies by making them hold their form not only by magic, but also by screws, nuts and bolts.",effectDesc:"Necromancy creatures + 4 HP"},{number:2,name:"A Man of Action",description:"You are more spry than an average mad scientist! By having more energy to dig for corpses for half a night, or do errands all day, you gain 1 more action point.",effectDesc:"Action points increased by 1"},{number:3,name:"Hard Worker",description:"There must be something in the ground. At least something... A measly rotting leg... Maybe if I dig just a little bit longer...",effectDesc:"Magic Find increased by 15%"},{number:4,name:"Creatures of the Night",description:"Bats and wolves, gather!",effectDesc:"Vampires and werewolves + 10 HP"}]},displayInfo:!1,confirm:!1,message:"",nameDisplay:!1,statsDisplay:!1,skillsDisplay:!1,openShop:!1}},methods:{typeName:function(){this.nameDisplay=!0},distributeStats:function(){this.statsDisplay=!0},selectSkills:function(){this.skillsDisplay=!0},openShopFn:function(){this.openShop=!0},close:function(){this.nameDisplay=!1,this.statsDisplay=!1,this.skillsDisplay=!1,this.openShop=!1},backToMenu:function(){r.gameState.isNewGame=!1},increaseStat:function(e){this.playerCharacter.statisticsPointAllowance>0&&(this.playerCharacter.statisticsPointAllowance--,this.playerCharacter.statistics[e]++)},decreaseStat:function(e){"Intelligence"===e&&this.playerCharacter.skillManagement.amountOfSelectedSkills>0&&(this.displayInfoFn("The amount of available skill points changed! Your skill points have been reset!"),this.resetSkills()),1!=this.playerCharacter.statistics[e]&&(this.playerCharacter.statistics[e]--,this.playerCharacter.statisticsPointAllowance++)},selectSkill:function(e){var t=this;this.calcSkillPoints<=0?this.displayInfoFn("Not enough skill points."):this.playerCharacter.skillsSelected.includes(e)?this.displayInfoFn("You already have this skill"):(this.playerCharacter.skillManagement.amountOfSelectedSkills++,this.playerCharacter.skillsSelected.push(e),this.playerCharacter.skillsSelected.forEach((function(e){e.name.includes("A Man of Action")&&!t.playerCharacter.skillManagement.manOfActionAdded?(t.playerCharacter.ManOfAction++,t.playerCharacter.skillManagement.manOfActionAdded=!0):e.name.includes("Nuts and Bolts")&&!t.playerCharacter.skillManagement.nutsAndBoltsAdded?(t.playerCharacter.necromancyHPbonus+=4,t.playerCharacter.skillManagement.nutsAndBoltsAdded=!0):e.name.includes("Hard Worker")&&!t.playerCharacter.skillManagement.hardWorkerAdded?(t.playerCharacter.MFbonus+=15,t.playerCharacter.skillManagement.hardWorkerAdded=!0):e.name.includes("Creatures of the Night")&&!t.playerCharacter.skillManagement.creaturesOfTheNightAdded&&(t.playerCharacter.werewolvesHpBonus+=10,t.playerCharacter.vampiresHpBonus+=10,t.playerCharacter.skillManagement.creaturesOfTheNightAdded=!0)})))},resetSkills:function(){this.playerCharacter.skillManagement.amountOfSelectedSkills=0,this.playerCharacter.skillsSelected=[],this.playerCharacter.ManOfAction=0,this.playerCharacter.necromancyHPbonus=0,this.playerCharacter.demonologyHPbonus=0,this.playerCharacter.automatonHPbonus=0,this.playerCharacter.werewolvesHpBonus=0,this.playerCharacter.vampiresHpBonus=0,this.playerCharacter.MFbonus=0,this.playerCharacter.skillManagement.manOfActionAdded=!1,this.playerCharacter.skillManagement.hardWorkerAdded=!1,this.playerCharacter.skillManagement.creaturesOfTheNightAdded=!1,this.playerCharacter.skillManagement.nutsAndBoltsAdded=!1},addBoughtItem:function(e){"craft"===e.function?this.playerCharacter.inventory.craftingParts[e.type].push(e):"necroBook"===e.function?this.playerCharacter.inventory.necroBooks.push(e):"necroRecipes"===e.function&&this.playerCharacter.inventory.necroRecipes.push(e)},finishCreationCheck:function(){this.playerCharacter.statisticsPointAllowance>0?(this.message="You have undistributed statistic points. Are you sure you want to continue?",this.confirm=!0):0!==this.calcSkillPoints?(this.message="You have undistributed skill points. Are you sure you want to continue?",this.confirm=!0):this.exportCharToStore()},exportCharToStore:function(){r.playerCharacter=this.playerCharacter,r.gameState.characterCreated=!0},updateFromShop:function(e){this.playerCharacter.gold=e,this.openShop=!1},displayInfoFn:function(e){var t=this;this.displayInfo=!0,this.message=e,setTimeout((function(){t.displayInfo=!1}),1e3)}},computed:{calcSkillPoints:function(){return Math.floor(this.playerCharacter.statistics.Intelligence/3)+1-this.playerCharacter.skillManagement.amountOfSelectedSkills}}},x=B,H=(i("adf4"),Object(u["a"])(x,f,g,!1,null,"1fa566c8",null)),R=H.exports,D=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"main-screen"},[s("div",{staticClass:"top-panel"},[s("div",{staticClass:"event-log"},[s("ul",{staticClass:"event-log-info-list scroll"},e._l(e.updateEventLog,(function(t,i){return s("li",{key:i},[e._v(e._s(t))])})),0)]),s("div",{staticClass:"hostility-progression-bar"},[s("div",{staticClass:"hostility-bar-display",style:{width:e.hostilityLevel+"%"}})]),s("div",{staticClass:"nav-btn"},[s("i",{staticClass:"fas fa-cog",class:{"turn-cog":e.menuOpened},on:{click:e.openMenu}})]),s("div",{staticClass:"menu-overlay",class:{"menu-visible":e.menuOpened}},[s("transition",{attrs:{name:"load",mode:"out-in"}},[e.loadGameOpened?e._e():s("div",{key:"menu-list",staticClass:"menu-wrapper"},[s("ul",{staticClass:"menu-list"},[s("li",[e._v("SAVE")]),s("li",{on:{click:function(t){e.loadGameOpened=!0}}},[e._v("LOAD")]),s("li",{on:{click:e.abortAndExitToMenu}},[e._v("EXIT TO MAIN MENU")])])]),e.loadGameOpened?s("div",{key:"load-list",staticClass:"load-game-overlay"},[s("ul",{staticClass:"load-game-list menu-list"},[s("h2",[e._v("LOAD A SAVED GAME")]),s("li",{staticClass:"autosave-load",on:{click:e.loadAutosave}},[e._v("AUTOSAVE")]),s("li",{on:{click:function(t){e.loadGameOpened=!1}}},[e._v("CANCEL")])])]):e._e()])],1)]),s("div",{staticClass:"locations-panel"},[e.mobileSize?s("i",{staticClass:"far fa-eye",class:{"eye-black":e.mapMode},on:{click:function(t){e.mapMode=!e.mapMode}}}):e._e(),s("transition",{attrs:{name:"fade",mode:"out-in"}},[e.mapMode?e._e():s("ul",{key:"lista",staticClass:"locations"},[s("li",{staticClass:"btn",on:{click:e.openGraveyard}},[e._v("Graveyard")]),s("li",{staticClass:"btn",on:{click:function(t){e.townOpened=!0}}},[e._v("Town")]),s("li",{staticClass:"btn",on:{click:e.openWorkshop}},[e._v("Workshop")]),s("li",{staticClass:"btn",on:{click:e.openCreations}},[e._v("Creations")]),s("li",{staticClass:"btn"},[e._v("Diplomacy")])]),e.mapMode?s("div",{key:"mapa",staticClass:"map-view"},[s("div",{staticClass:"map-grid"},[s("div",{staticClass:"map-graveyard"},[s("div",{staticClass:"graveyard-map-item map-item",on:{click:e.openGraveyard}},[s("img",{staticClass:"place-image",attrs:{alt:"",src:i("6f39")}}),s("p",{staticClass:"map-place-title"},[e._v("Graveyard")])])]),s("div",{staticClass:"map-town"},[s("div",{staticClass:"town-map-item map-item",on:{click:function(t){e.townOpened=!0}}},[s("img",{staticClass:"place-image",attrs:{alt:"",src:i("4416")}}),s("p",{staticClass:"map-place-title"},[e._v("Town")])])]),s("div",{staticClass:"map-workshop"},[s("div",{staticClass:"workshop-map-item map-item",on:{click:e.openWorkshop}},[s("img",{staticClass:"place-image",attrs:{alt:"",src:i("94cd")}}),s("p",{staticClass:"map-place-title"},[e._v("Workshop")])])])]),s("div",{staticClass:"graveyard-grid-btns-container"},[s("li",{staticClass:"btn",on:{click:e.openCreations}},[e._v("Creations")]),s("li",{staticClass:"btn"},[e._v("Diplomacy")])])]):e._e()])],1),s("div",{staticClass:"turn-info-panel"},[s("div",{staticClass:"turn-info-container"},[s("div",{staticClass:"turn-info-buttons"},[s("ul",{staticClass:"info-buttons"},[s("li",{on:{click:function(t){e.characterOpened=!0}}},[e._v("Character")]),s("li",{on:{click:function(t){e.bestiaryOpened=!0}}},[e._v("Bestiary")]),s("li",{on:{click:e.openInventory}},[e._v("Inventory")])])]),s("div",{staticClass:"actions-left-display"},[s("div",{staticClass:"remaining-actions"},[e._v("Remaining action points:")]),s("div",{staticClass:"number-of-actions-left"},[e._v(e._s(e.currentActionPoints))])]),s("div",{staticClass:"next-turn-container"},[s("div",{staticClass:"next-turn-wrapper"},[s("div",{staticClass:"next-turn-header"},[e._v("Next turn")]),s("div",{staticClass:"next-turn-button",on:{click:e.nextTurn}},[s("img",{staticClass:"next-turn-ico",class:{"turn-hourglass":e.animateHourglass},attrs:{src:i("833a"),alt:""}})]),s("div",{staticClass:"turn-number"},[e._v("Turn: "+e._s(e.turnCounter))])])])])]),e.graveyardOpened?s("graveyard",{attrs:{actionPoints:e.currentActionPoints},on:{deductActionPoints:e.deductAP,closeGraveyard:e.closeGraveyard,corpsesDugForTheTurn:e.increaseHostility}}):e._e(),e.workshopOneped?s("workshop",{attrs:{actionPoints:e.currentActionPoints},on:{closeWorkshop:function(t){e.workshopOneped=!1},deductActionPoints:e.deductAP,openCreations:function(t){e.creationsOpened=!0}}}):e._e(),e.inventoryOpened?s("inventory",{on:{closeInventory:function(t){e.inventoryOpened=!1}}}):e._e(),e.creationsOpened?s("creations",{on:{closeCreations:function(t){e.creationsOpened=!1}}}):e._e(),e.townOpened?s("town",{on:{closeShop:function(t){e.townOpened=!1}}}):e._e(),e.characterOpened?s("character",{on:{closeCharacter:function(t){e.characterOpened=!1}}}):e._e(),e.playerAttacked?s("battle-component",{on:{playerWins:e.playerVictory,gameOver:e.gameOver}}):e._e(),e.bestiaryOpened?s("bestiary",{on:{closeBestiary:function(t){e.bestiaryOpened=!1}}}):e._e(),e.endGame?s("div",{staticClass:"info-modal end-game-modal"},[s("h2",[e._v("YOU DIED")]),s("h4",[e._v("People from the town defeated your monsters!")]),s("p",[e._v(e._s(e.endGameMessage))]),s("ul",{staticClass:"end-screen-table"},[s("h3",[e._v("Records:")]),s("li",[e._v("Battles won: "+e._s(e.playersWins))]),s("li",[e._v("Total creatures made: "+e._s(e.madeCreaturesTotal))]),s("li",[e._v("Turns survived: "+e._s(e.turnCounter))])]),s("div",{staticClass:"btn",on:{click:e.abortAndExitToMenu}},[e._v("CONTINUE")])]):e._e()],1)},L=[],E=i("2909"),F=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"graveyard"},[s("h2",[e._v("GRAVEYARD")]),s("h3",[e._v("Desacrate this place to gather body parts for your experiments.")]),s("transition",{attrs:{name:"itemsGained",mode:"out-in"}},[e.itemDisplay?e._e():s("div",{key:"graveyard",staticClass:"graveyard-intro-img"},[s("img",{attrs:{src:i("7ab4"),alt:""}})]),e.itemDisplay?s("div",{key:"items",staticClass:"item-drop-container"},[s("p",[e._v("You desacrate the graves and unearth these items:")]),s("div",{staticClass:"items-gained-grid"},[e._l(e.itemsTemporary.arms,(function(e,t){return s("item",{key:"arms"+t,staticClass:"item",attrs:{item:e}})})),e._l(e.itemsTemporary.heads,(function(e,t){return s("item",{key:"heads"+t,staticClass:"item",attrs:{item:e}})})),e._l(e.itemsTemporary.torsos,(function(e,t){return s("item",{key:"torsos"+t,staticClass:"item",attrs:{item:e}})})),e._l(e.itemsTemporary.legs,(function(e,t){return s("item",{key:"legs"+t,staticClass:"item",attrs:{item:e}})})),e._l(e.itemsTemporary.brains,(function(e,t){return s("item",{key:"brains"+t,staticClass:"item",attrs:{item:e}})})),e._l(e.itemsTemporary.hearts,(function(e,t){return s("item",{key:"hearts"+t,staticClass:"item",attrs:{item:e}})})),e._l(e.itemsTemporary.necroBooks,(function(e,t){return s("item",{key:"necbooks"+t,staticClass:"item",attrs:{item:e}})})),e._l(e.itemsTemporary.demoBooks,(function(e,t){return s("item",{key:"demobooks"+t,staticClass:"item",attrs:{item:e}})})),e._l(e.itemsTemporary.necroRecipes,(function(e,t){return s("item",{key:"necrecipes"+t,staticClass:"item",attrs:{item:e}})})),e._l(e.itemsTemporary.demoRecipes,(function(e,t){return s("item",{key:"demorecipes"+t,staticClass:"item",attrs:{item:e}})}))],2),s("div",{staticClass:"gold-gained"},[s("div",{staticClass:"gold-display"},[s("span",{staticClass:"gold-found"}),e._v(" "),s("span",[e._v("You also managed to find a small amount of gold among the remains: "+e._s(e.goldFound))])])])]):e._e()]),s("ul",{staticClass:"graveyard-actions-ul"},[s("li",{staticClass:"dig-action btn",on:{click:e.digForCorpses}},[e._v("DIG FOR BODY PARTS "),s("span",{staticClass:"action-points-counter"},[e._v("("+e._s(e.actionPoints)+")")])]),s("li",{staticClass:"return-action btn",on:{click:e.returnToMain}},[e._v("RETURN")])]),s("transition",{attrs:{name:"show-modal"}},[e.displayInfo?s("div",{staticClass:"info-modal"},[s("p",[e._v(e._s(this.message))])]):e._e()])],1)},J=[],W=(i("4de4"),i("5118")),$={props:["actionPoints"],components:{item:M},data:function(){return{itemDisplay:!1,itemsGained:A.heads,itemsTemporary:{arms:[],legs:[],heads:[],torsos:[],brains:[],hearts:[],necroBooks:[],necroRecipes:[],demoRecipes:[],demoBooks:[]},displayInfo:!1,goldFound:0}},methods:{returnToMain:function(){var e,t,i,s,a,n,o,c,l,d;(e=r.playerCharacter.inventory.craftingParts.heads).push.apply(e,Object(E["a"])(this.itemsTemporary.heads)),(t=r.playerCharacter.inventory.craftingParts.arms).push.apply(t,Object(E["a"])(this.itemsTemporary.arms)),(i=r.playerCharacter.inventory.craftingParts.torsos).push.apply(i,Object(E["a"])(this.itemsTemporary.torsos)),(s=r.playerCharacter.inventory.craftingParts.legs).push.apply(s,Object(E["a"])(this.itemsTemporary.legs)),(a=r.playerCharacter.inventory.craftingParts.brains).push.apply(a,Object(E["a"])(this.itemsTemporary.brains)),(n=r.playerCharacter.inventory.craftingParts.hearts).push.apply(n,Object(E["a"])(this.itemsTemporary.hearts)),(o=r.playerCharacter.inventory.necroBooks).push.apply(o,Object(E["a"])(this.itemsTemporary.necroBooks)),(c=r.playerCharacter.inventory.demoBooks).push.apply(c,Object(E["a"])(this.itemsTemporary.demoBooks)),(l=r.playerCharacter.inventory.necroRecipes).push.apply(l,Object(E["a"])(this.itemsTemporary.necroRecipes)),(d=r.playerCharacter.inventory.demoRecipes).push.apply(d,Object(E["a"])(this.itemsTemporary.demoRecipes)),this.$emit("closeGraveyard"),r.playerCharacter.gold+=this.goldFound},digForCorpses:function(){this.actionPoints>0?(this.magicFindFormula(),this.itemDisplay=!0,this.$emit("corpsesDugForTheTurn"),this.$emit("deductActionPoints"),this.displayInfoFn("Items added to inventory.")):this.displayInfoFn("Not enough action points to do that!")},magicFindFormula:function(){function e(e,t){return Math.floor(Math.random()*(t-e+1)+e)}var t=function(t,i){var s=e(1,100);return s+r.playerCharacter.magicFind()>i?3:s+r.playerCharacter.magicFind()>t?2:1};this.goldFound+=e(1,5);var i=t(40,85),s=function(){var t=e(1,100),i="";if(i=t>96?"necroBook":t>91?"demoBook":t>80?"recipe":"craft","craft"===i){var s=["heads","arms","torsos","legs","hearts","brains"];return s[e(0,s.length-1)]}if("recipe"===i){var a=["necroRecipes","demoRecipes"];return a[e(0,a.length-1)]}return i},a=this;function n(t){var i=e(0,100)+r.playerCharacter.magicFind(),s=A[t].filter((function(e){return e.value<i})),n=e(0,s.length-1);a.itemsTemporary[t].push(s[n])}for(var o=0;o<i;o++){var c=s();"necroBook"===c?n("necroBooks"):"demoBook"===c?this.itemsTemporary.demoBooks.push(A.demoBooks[0]):"heads"===c?n("heads"):"arms"===c?n("arms"):"torsos"===c?n("torsos"):"legs"===c?n("legs"):"hearts"===c?n("hearts"):"brains"===c?n("brains"):"necroRecipes"===c?n("necroRecipes"):"demoRecipes"===c&&this.itemsTemporary.demoRecipes.push(A.demoRecipes[0])}},displayInfoFn:function(e){var t=this;this.displayInfo=!0,this.message=e,Object(W["setTimeout"])((function(){t.displayInfo=!1}),1100)}},computed:{}},G=$,j=(i("5f36"),Object(u["a"])(G,F,J,!1,null,"2a39923e",null)),V=j.exports,Y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"workshop"},[s("div",{staticClass:"workshop-grid"},[s("div",{staticClass:"create-section",class:{"create-section-sm":e.selectedDemonology}},[s("h2",[e._v("A NEW CREATION")]),s("h3",[e._v(e._s(e.selectedCreationMode))]),s("div",{staticClass:"head-section"},[s("div",{staticClass:"head-flex double"},[e.selectedDemonology?e._e():s("p",[e._v("Head")]),e.selectedAutomaton||e.selectedDemonology?s("p",[e._v("Brain")]):e._e(),e.selectedNecromancy||e.selectedDemonology?s("p",[e._v("Book")]):e._e(),e.selectedDemonology?e._e():s("div",{staticClass:"head-component margin-right"},[e.selectedDemonology?e._e():s("div",{staticClass:"head frame ",style:{backgroundImage:"url("+i("67f7")("./"+e.selectedHeadDisplay)+")"},on:{click:function(t){return e.selectMaterials("heads")}}})]),e.selectedNecromancy?e._e():s("div",{staticClass:"brain-component frame empty-frame automation-variant",class:{"margin-right":e.selectedDemonology},style:{backgroundImage:"url("+i("67f7")("./"+e.selectedBrainDisplay)+")"},on:{click:function(t){return e.selectMaterials("brains")}}}),e.selectedNecromancy||e.selectedDemonology?s("div",{staticClass:"necromancy-book-component frame empty-frame",style:{backgroundImage:"url("+i("67f7")("./"+e.selectedNecroBookDisplay)+")"},on:{click:function(t){return e.selectMaterials("necroBooks")}}}):e._e()])]),e.selectedDemonology?e._e():s("div",{staticClass:"arms-section"},[s("p",[e._v("Arms")]),s("div",{staticClass:"arms-component frame",style:{backgroundImage:"url("+i("67f7")("./"+e.selectedArmsDisplay)+")"},on:{click:function(t){return e.selectMaterials("arms")}}})]),s("div",{staticClass:"torso-section "},[s("div",{staticClass:"torso-flex double"},[e.selectedAutomaton||e.selectedNecromancy?s("p",[e._v("Torso")]):e._e(),e.selectedAutomaton||e.selectedDemonology?s("p",[e._v("Heart")]):e._e(),e.selectedNecromancy||e.selectedDemonology?s("p",[e._v("Schematics")]):e._e(),e.selectedAutomaton||e.selectedNecromancy?s("div",{staticClass:"torso-component frame ",class:[{"margin-right":e.selectedAutomaton}],style:{backgroundImage:"url("+i("67f7")("./"+e.selectedTorsoDisplay)+")"},on:{click:function(t){return e.selectMaterials("torsos")}}}):e._e(),e.selectedAutomaton||e.selectedDemonology?s("div",{staticClass:"heart-component automation-variant frame empty-frame",style:{backgroundImage:"url("+i("67f7")("./"+e.selectedHeartDisplay)+")"},on:{click:function(t){return e.selectMaterials("hearts")}}}):e._e(),e.selectedNecromancy?s("div",{staticClass:"recipe-component frame empty-frame",style:{backgroundImage:"url("+i("67f7")("./"+e.selectedNecroRecipeDisplay)+")"},on:{click:function(t){return e.selectMaterials("necroRecipes")}}}):e._e(),e.selectedDemonology?s("div",{staticClass:"recipe-component frame empty-frame",style:{backgroundImage:"url("+i("67f7")("./"+e.selectedDemoRecipeDisplay)+")"},on:{click:function(t){return e.selectMaterials("demoRecipes")}}}):e._e()])]),e.selectedDemonology?e._e():s("div",{staticClass:"legs-section "},[s("p",[e._v("Legs")]),s("div",{staticClass:"legs-component  frame",style:{backgroundImage:"url("+i("67f7")("./"+e.selectedLegsDisplay)+")"},on:{click:function(t){return e.selectMaterials("legs")}}})]),s("div",{staticClass:"creatures-display btn",on:{click:e.openCreations}},[e._v("BROWSE YOUR CREATIONS")])]),s("div",{staticClass:"select-mode-grid"},[s("div",{staticClass:"automaton-creation mode-btn",on:{click:function(t){return e.select("automaton")}}},[e._v(" AUTOMATON ")]),s("div",{staticClass:"demonology-creation mode-btn",on:{click:function(t){return e.select("demonology")}}},[e._v(" DEMONOLOGY ")]),s("div",{staticClass:"necromancy-creation mode-btn",on:{click:function(t){return e.select("necromancy")}}},[e._v(" NECROMANCY ")])]),s("div",{staticClass:"creature-stats"},["AUTOMATON"===e.selectedCreationMode?s("p",[e._v("Automatons are not limited by rigid formulas of magic. You can combine body parts unrestrained to create imaginative abominations.")]):e._e(),"NECROMANCY"===e.selectedCreationMode?s("p",[e._v(" "+e._s(e.necromancyDesc)+" ")]):e._e(),"DEMONOLOGY"===e.selectedCreationMode?s("p",[e._v("Select the schematics for the demonic entity you want to summon.")]):e._e(),s("div",{staticClass:"stats-monster-name"})]),s("div",{staticClass:"buttons-grid"},[s("div",{staticClass:"create-btn btn",on:{click:e.create}},[e._v("CREATE "),s("span",[e._v("("+e._s(e.actionPoints)+")")])]),s("div",{staticClass:"return-btn btn",on:{click:e.returnToMain}},[e._v("RETURN")])]),e.displayMaterials?s("div",{staticClass:"display-materials-modal"},[s("h2",[e._v("SELECT AN ITEM")]),e.materialsPresent?e._e():s("h3",[e._v("No materials to use in this slot")]),e.materialsPresent?s("div",{staticClass:"display-items-to-craft-container"},e._l(e.temporaryItemsToCraft,(function(t,i){return s("item",{key:i,attrs:{item:t},nativeOn:{click:function(s){return e.selectTheItem(t,i)}}})})),1):e._e(),s("div",{staticClass:"selected-item-container"},[s("h3",[e._v("Selected item:")]),s("item",{directives:[{name:"show",rawName:"v-show",value:e.selectedItem,expression:"selectedItem"}],attrs:{item:e.selectedDisplayedMaterials}})],1),s("div",{staticClass:"close btn",on:{click:e.closeDisplayMaterials}},[e._v("CLOSE")])]):e._e(),s("transition",{attrs:{name:"show-modal"}},[e.displayInfo?s("div",{staticClass:"info-modal"},[s("p",[e._v(e._s(this.message))])]):e._e()])],1)])},q=[],z=(i("a434"),{props:["actionPoints"],components:{item:M},data:function(){return{displayInfo:!1,message:"",selectedAutomaton:!0,selectedDemonology:!1,selectedNecromancy:!1,displayMaterials:!1,selectedCreationMode:"AUTOMATON",selectedItem:!1,selectedDisplayedMaterials:{name:"Select a body part",imgUrl:"cog.svg",desc:"Select a body part to be used in the experiment",type:"select",value:1,HPmod:1,number:1},temporaryItemsToCraft:[],selectedHead:{},selectedTorso:{},selectedArms:{},selectedLegs:{},selectedBrain:{},selectedHeart:{},selectedNecroBook:{},selectedNecroRecipe:{},selectedDemoRecipe:{},creations:[]}},methods:{select:function(e){"automaton"==e?(this.selectedCreationMode=e.toUpperCase(),this.selectedAutomaton=!0,this.selectedDemonology=!1,this.selectedNecromancy=!1,this.clear()):"demonology"==e?(this.selectedCreationMode=e.toUpperCase(),this.selectedAutomaton=!1,this.selectedDemonology=!0,this.selectedNecromancy=!1,this.clear()):"necromancy"==e&&(this.selectedCreationMode=e.toUpperCase(),this.selectedAutomaton=!1,this.selectedDemonology=!1,this.selectedNecromancy=!0,this.clear())},clear:function(){this.selectedArms={},this.selectedLegs={},this.selectedTorso={},this.selectedHead={},this.selectedBrain={},this.selectedHeart={},this.selectedNecroBook={},this.selectedNecroRecipe={}},clearSelectedItems:function(){if("{}"!==JSON.stringify(this.selectedArms))for(var e=0;e<r.playerCharacter.inventory.craftingParts.arms.length;e++)if(this.selectedArms.name===r.playerCharacter.inventory.craftingParts.arms[e].name){r.playerCharacter.inventory.craftingParts.arms.splice(e,1);break}if("{}"!==JSON.stringify(this.selectedLegs))for(var t=0;t<r.playerCharacter.inventory.craftingParts.legs.length;t++)if(this.selectedLegs.name===r.playerCharacter.inventory.craftingParts.legs[t].name){r.playerCharacter.inventory.craftingParts.legs.splice(t,1);break}if("{}"!==JSON.stringify(this.selectedHead))for(var i=0;i<r.playerCharacter.inventory.craftingParts.heads.length;i++)if(this.selectedHead.name===r.playerCharacter.inventory.craftingParts.heads[i].name){r.playerCharacter.inventory.craftingParts.heads.splice(i,1);break}if("{}"!==JSON.stringify(this.selectedTorso))for(var s=0;s<r.playerCharacter.inventory.craftingParts.torsos.length;s++)if(this.selectedTorso.name===r.playerCharacter.inventory.craftingParts.torsos[s].name){r.playerCharacter.inventory.craftingParts.torsos.splice(s,1);break}if("{}"!==JSON.stringify(this.selectedHeart))for(var a=0;a<r.playerCharacter.inventory.craftingParts.hearts.length;a++)if(this.selectedHeart.name===r.playerCharacter.inventory.craftingParts.hearts[a].name){r.playerCharacter.inventory.craftingParts.hearts.splice(a,1);break}if("{}"!==JSON.stringify(this.selectedBrain))for(var n=0;n<r.playerCharacter.inventory.craftingParts.brains.length;n++)if(this.selectedBrain.name===r.playerCharacter.inventory.craftingParts.brains[n].name){r.playerCharacter.inventory.craftingParts.brains.splice(n,1);break}if("{}"!==JSON.stringify(this.selectedNecroRecipe))for(var o=0;o<r.playerCharacter.inventory.necroRecipes.length;o++)if(this.selectedNecroRecipe.name===r.playerCharacter.inventory.necroRecipes[o].name){r.playerCharacter.inventory.necroRecipes.splice(o,1);break}this.clear()},returnToMain:function(){this.clear(),this.$emit("closeWorkshop")},create:function(){switch(this.selectedCreationMode){case"AUTOMATON":if(!(this.actionPoints>0))return void this.displayInfoFn("Not enough action points to do that!");if("{}"===JSON.stringify(this.selectedArms)||"{}"===JSON.stringify(this.selectedLegs)||"{}"===JSON.stringify(this.selectedHead)||"{}"===JSON.stringify(this.selectedTorso)||"{}"===JSON.stringify(this.selectedBrain)||"{}"===JSON.stringify(this.selectedHeart)){this.displayInfoFn("Fill every slot before creating a monster!");break}this.addTheCreation(),this.$emit("deductActionPoints");break;case"DEMONOLOGY":break;case"NECROMANCY":if(!(this.actionPoints>0))return void this.displayInfoFn("Not enough action points to do that!");if("{}"===JSON.stringify(this.selectedNecroBook)||"{}"===JSON.stringify(this.selectedArms)||"{}"===JSON.stringify(this.selectedLegs)||"{}"===JSON.stringify(this.selectedHead)||"{}"===JSON.stringify(this.selectedTorso)||"{}"===JSON.stringify(this.selectedNecroRecipe)){this.displayInfoFn("Fill every slot before creating a monster!");break}if(this.selectedNecroRecipe.name.includes("Raise Zombie")){if("Necromancy Book (1)"!==this.selectedNecroBook.name||"Rotting Human Legs"!==this.selectedLegs.name||"Rotting Human Arms"!==this.selectedArms.name||"Rotting Human Head"!==this.selectedHead.name||"Rotting Human Torso"!==this.selectedTorso.name){this.displayInfoFn("To create a zombie you need exactly Rotting Human Head, Rotting Human Arms, Rotting Human Torso and Rotting Human Legs. Other body parts will not work with the selected spell!");break}this.addTheCreation()}else if(this.selectedNecroRecipe.name.includes("Raise Skeleton")){if("Necromancy Book (1)"!==this.selectedNecroBook.name||"skeleton"!==this.selectedLegs.creation||"skeleton"!==this.selectedArms.creation||"skeleton"!==this.selectedHead.creation||"skeleton"!==this.selectedTorso.creation){this.displayInfoFn("To create a skeleton you need bone elements in all the slots! Other body parts will not work!");break}this.addTheCreation()}else if(this.selectedNecroRecipe.name.includes("Raise Vampire")){if("Necromancy Book (3)"!==this.selectedNecroBook.name||"vampire"!==this.selectedLegs.creation||"vampire"!==this.selectedArms.creation||"vampire"!==this.selectedHead.creation||"vampire"!==this.selectedTorso.creation){this.displayInfoFn("To create a Vampire you need vampiric elements in all the slots! Other body parts will not work!");break}this.addTheCreation()}this.$emit("deductActionPoints");break}},addTheCreation:function(){var e,t=this,i=0,s="",a="",n=0,o=0,c=0,l=0;switch(this.selectedCreationMode){case"NECROMANCY":i+=this.selectedArms.HPmod+this.selectedLegs.HPmod+this.selectedTorso.HPmod+this.selectedHead.HPmod+r.playerCharacter.necromancyHPbonus+this.selectedNecroRecipe.HPmod,n+=this.selectedArms.regeneration+this.selectedHead.regeneration+this.selectedTorso.regeneration+this.selectedLegs.regeneration,o+=this.selectedArms.damageMod+this.selectedHead.damageMod+this.selectedTorso.damageMod+this.selectedLegs.damageMod,c+=this.selectedArms.initiativeMod+this.selectedHead.initiativeMod+this.selectedTorso.initiativeMod+this.selectedLegs.initiativeMod,l+=this.selectedArms.absorption+this.selectedHead.absorption+this.selectedTorso.absorption+this.selectedLegs.absorption;break;case"AUTOMATON":i+=this.selectedArms.HPmod+this.selectedLegs.HPmod+this.selectedTorso.HPmod+this.selectedHead.HPmod+this.selectedHeart.HPmod+this.selectedBrain.HPmod+r.playerCharacter.automatonHPbonus,n+=this.selectedArms.regeneration+this.selectedHead.regeneration+this.selectedTorso.regeneration+this.selectedLegs.regeneration+this.selectedHeart.regeneration+this.selectedBrain.regeneration,o+=this.selectedArms.damageMod+this.selectedLegs.damageMod+this.selectedTorso.damageMod+this.selectedHead.damageMod+this.selectedHeart.damageMod+this.selectedBrain.damageMod+r.playerCharacter.automatonDamageBonus,c+=this.selectedArms.initiativeMod+this.selectedLegs.initiativeMod+this.selectedTorso.initiativeMod+this.selectedHead.initiativeMod+this.selectedHeart.initiativeMod+this.selectedBrain.initiativeMod,l+=this.selectedArms.absorption+this.selectedLegs.absorption+this.selectedTorso.absorption+this.selectedHead.absorption+this.selectedHeart.absorption+this.selectedBrain.absorption;break;case"DEMONOLOGY":i+=this.selectedArms.HPmod+this.selectedLegs.HPmod+this.selectedTorso.HPmod+this.selectedHead.HPmod+r.playerCharacter.demonologyHPbonus,n+=this.selectedHeart.regeneration+this.selectedBrain.regeneration,o+=this.selectedHeart.damageMod+this.selectedBrain.damageMod+r.playerCharacter.demonologyDamageBonus,o+=this.selectedHeart.initiativeMod+this.selectedBrain.initiativeMod,l+=this.selectedHeart.absorption+this.selectedBrain.absorption;break}function d(){t.humanoidAutomaton?(s="Humanoid Automaton",a="automaton.svg"):t.werewolf?(s="Werewolf",a="werewolf.svg",i+=r.playerCharacter.werewolvesHpBonus):t.vampire?(s="Vampire",a="vampire-girl.svg",i+=r.playerCharacter.vampiresHpBonus):"Bull's Head"===t.selectedHead.name?(s="Minotaur",a="minotaur.svg"):"Raise Skeleton"===t.selectedNecroRecipe.name?(s="Skeleton",a="skeleton.svg"):"Raise Zombie"===t.selectedNecroRecipe.name?(s="Zombie",a="zombie.svg"):t.selectedHead.name.includes("Werewolf")||t.selectedArms.name.includes("Werewolf")?(s="Wolf-man",a="wolf-man.svg"):(s="Automaton",a="automaton.svg")}d();var p=function(e,t,i,s,a,n,r){this.imgUrl=i,this.name=e,this.hp=t,this.maxHp=t,this.regeneration=s,this.dmg=a,this.initiative=n,this.owner="player",this.position=1,this.absorption=r},u=new p(s,i,a,n,o,c,l);this.creations.push(u),(e=r.playerCharacter.creatures).push.apply(e,Object(E["a"])(this.creations)),this.creations=[],this.clearSelectedItems(),r.gameState.madeCreatures++,this.displayInfoFn("Monster created!")},selectMaterials:function(e){var t,i;switch(e){case"heads":"{}"!==JSON.stringify(this.selectedHead)&&(this.selectedDisplayedMaterials=this.selectedHead),this.pushCraftsToTemporaryItems(e);break;case"arms":"{}"!==JSON.stringify(this.selectedArms)&&(this.selectedDisplayedMaterials=this.selectedArms),this.pushCraftsToTemporaryItems(e);break;case"legs":"{}"!==JSON.stringify(this.selectedLegs)&&(this.selectedDisplayedMaterials=this.selectedLegs),this.pushCraftsToTemporaryItems(e);break;case"torsos":"{}"!==JSON.stringify(this.selectedTorso)&&(this.selectedDisplayedMaterials=this.selectedTorso),this.pushCraftsToTemporaryItems(e);break;case"brains":"{}"!==JSON.stringify(this.selectedBrain)&&(this.selectedDisplayedMaterials=this.selectedBrain),this.pushCraftsToTemporaryItems(e);break;case"hearts":"{}"!==JSON.stringify(this.selectedHeart)&&(this.selectedDisplayedMaterials=this.selectedHeart),this.pushCraftsToTemporaryItems(e);break;case"necroBooks":(t=this.temporaryItemsToCraft).push.apply(t,Object(E["a"])(r.playerCharacter.inventory.necroBooks));break;case"necroRecipes":(i=this.temporaryItemsToCraft).push.apply(i,Object(E["a"])(r.playerCharacter.inventory.necroRecipes));break}this.displayMaterials=!0},pushCraftsToTemporaryItems:function(e){var t=this,i=[];i.push.apply(i,Object(E["a"])(r.playerCharacter.inventory.craftingParts[e])),i.forEach((function(e){("DEMONOLOGY"===t.selectedCreationMode&&e.availability.includes("demonology")||"NECROMANCY"===t.selectedCreationMode&&e.availability.includes("necromancy")||"AUTOMATON"===t.selectedCreationMode&&e.availability.includes("automaton"))&&t.temporaryItemsToCraft.push(e)}))},closeDisplayMaterials:function(){this.temporaryItemsToCraft=[],this.selectedDisplayedMaterials={name:"Select a body part",imgUrl:"cog.svg",desc:"Select a body part to be used in the experiment",type:"select",value:1,HPmod:1,number:1},this.displayMaterials=!1},selectTheItem:function(e){switch(e.type){case"heads":this.selectedHead=e;break;case"arms":this.selectedArms=e;break;case"legs":this.selectedLegs=e;break;case"torsos":this.selectedTorso=e;break;case"brains":this.selectedBrain=e;break;case"hearts":this.selectedHeart=e;break;case"necroBooks":this.selectedNecroBook=e;break;case"necroRecipes":this.selectedNecroRecipe=e;break}this.selectedDisplayedMaterials=e,this.selectedItem=!0},openCreations:function(){this.$emit("openCreations")},displayInfoFn:function(e){var t=this;this.displayInfo=!0,this.message=e,Object(W["setTimeout"])((function(){t.displayInfo=!1}),1e3)}},computed:{selectedHeadDisplay:function(){return this.selectedHead.imgUrl?this.selectedHead.imgUrl:"cog.svg"},selectedTorsoDisplay:function(){return this.selectedTorso.imgUrl?this.selectedTorso.imgUrl:"cog.svg"},selectedLegsDisplay:function(){return this.selectedLegs.imgUrl?this.selectedLegs.imgUrl:"cog.svg"},selectedArmsDisplay:function(){return this.selectedArms.imgUrl?this.selectedArms.imgUrl:"cog.svg"},selectedHeartDisplay:function(){return this.selectedHeart.imgUrl?this.selectedHeart.imgUrl:"cog.svg"},selectedBrainDisplay:function(){return this.selectedBrain.imgUrl?this.selectedBrain.imgUrl:"cog.svg"},selectedNecroBookDisplay:function(){return this.selectedNecroBook.imgUrl?this.selectedNecroBook.imgUrl:"cog.svg"},selectedNecroRecipeDisplay:function(){return this.selectedNecroRecipe.imgUrl?this.selectedNecroRecipe.imgUrl:"cog.svg"},selectedDemoRecipeDisplay:function(){return this.selectedDemoRecipe.imgUrl?this.selectedDemoRecipe.imgUrl:"cog.svg"},materialsPresent:function(){return"[]"!==JSON.stringify(this.temporaryItemsToCraft)},necromancyDesc:function(){return"{}"===JSON.stringify(this.selectedNecroRecipe)?"Select the schematics for the necromantic entity you want to raise. ":this.selectedNecroRecipe.creation?this.selectedNecroRecipe.creation:"Select the schematics for the necromantic entity you want to raise. "},humanoidAutomaton:function(){return!!(this.selectedHead.name.includes("Human")&&this.selectedArms.name.includes("Human")&&this.selectedTorso.name.includes("Human")&&this.selectedLegs.name.includes("Human")&&"{}"===JSON.stringify(this.selectedNecroRecipe))},werewolf:function(){return!(!this.selectedHead.name.includes("Werewolf")||!this.selectedArms.name.includes("Werewolf"))},vampire:function(){return"vampire"===this.selectedHead.creation&&"vampire"===this.selectedArms.creation&&"vampire"===this.selectedTorso.creation&&"vampire"===this.selectedLegs.creation}}}),X=z,K=(i("809b"),Object(u["a"])(X,Y,q,!1,null,"f8ba2310",null)),Z=K.exports,Q=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"inventory"},[i("h2",[e._v("INVENTORY")]),e.noItems?i("h4",[e._v("No items in the inventory")]):e._e(),e.noItems?e._e():i("div",{staticClass:"items-container"},[e.noCrafts?e._e():i("div",{staticClass:"crafting-materials"},[i("h3",[e._v("Body parts:")]),e.noHeads?e._e():i("div",{staticClass:"heads-container"},[i("h4",[e._v("Heads:")]),e._l(e.playerItemsHeads,(function(e,t){return i("item",{key:"heads"+t,attrs:{item:e}})})),e.expandBtnHeads?i("div",{staticClass:"btn",on:{click:function(t){return e.showAll("Heads")}}},[e._v("EXPAND")]):e._e()],2),e.noArms?e._e():i("div",{staticClass:"arms-container"},[i("h4",[e._v("Arms:")]),e._l(e.playerItemsArms,(function(e,t){return i("item",{key:"arms"+t,attrs:{item:e}})})),e.expandBtnArms?i("div",{staticClass:"btn",on:{click:function(t){return e.showAll("Arms")}}},[e._v("EXPAND")]):e._e()],2),e.noTorsos?e._e():i("div",{staticClass:"torsos-container"},[i("h4",[e._v("Torsos:")]),e._l(e.playerItemsTorsos,(function(e,t){return i("item",{key:"torsos"+t,attrs:{item:e}})})),e.expandBtnTorsos?i("div",{staticClass:"btn",on:{click:function(t){return e.showAll("Torsos")}}},[e._v("EXPAND")]):e._e()],2),e.noLegs?e._e():i("div",{staticClass:"legs-container"},[i("h4",[e._v("Legs:")]),e._l(e.playerItemsLegs,(function(e,t){return i("item",{key:"legs"+t,attrs:{item:e}})})),e.expandBtnLegs?i("div",{staticClass:"btn",on:{click:function(t){return e.showAll("Legs")}}},[e._v("EXPAND")]):e._e()],2),e.noBrains?e._e():i("div",{staticClass:"brains-container"},[i("h4",[e._v("Brains:")]),e._l(e.playerItemsBrains,(function(e,t){return i("item",{key:"brains"+t,attrs:{item:e}})})),e.expandBtnBrains?i("div",{staticClass:"btn",on:{click:function(t){return e.showAll("Brains")}}},[e._v("EXPAND")]):e._e()],2),e.noHearts?e._e():i("div",{staticClass:"hearts-container"},[i("h4",[e._v("Hearts:")]),e._l(e.playerItemsHearts,(function(e,t){return i("item",{key:"hearts"+t,attrs:{item:e}})})),e.expandBtnHearts?i("div",{staticClass:"btn",on:{click:function(t){return e.showAll("Hearts")}}},[e._v("EXPAND")]):e._e()],2)]),e.noNecBooks?e._e():i("div",{staticClass:"Necromancy books"},[i("h3",[e._v("Necromancy: ")]),i("h3",[e._v("Necromancy Books:")]),e._l(e.playerItemsNecroBooks,(function(e,t){return i("item",{key:"necbooks"+t,attrs:{item:e}})})),e.expandBtnNecroBooks?i("div",{staticClass:"btn",on:{click:function(t){return e.showAll("NecroBooks")}}},[e._v("EXPAND")]):e._e()],2),e.noNecroRecipes?e._e():i("div",{staticClass:"recipes"},[i("h3",[e._v("Necromancy spells:")])]),e.noNecroRecipes?e._e():i("div",{staticClass:"necro-recipes-container"},[e._l(e.playerItemsNecroRecipes,(function(e,t){return i("item",{key:"necroRecipes"+t,attrs:{item:e}})})),e.expandBtnNecroRecipes?i("div",{staticClass:"btn",on:{click:function(t){return e.showAll("NecroRecipes")}}},[e._v("EXPAND")]):e._e()],2),e.noDemoRecipes?e._e():i("div",{staticClass:"demo-recipes"},[i("h3",[e._v("Demonology:")])]),e.noDemoRecipes?e._e():i("div",{staticClass:"demo-recipes-container"},[i("h4",[e._v("Demonology spells:")]),e._l(e.playerItemsDemoRecipes,(function(e,t){return i("item",{key:"demoRecipes"+t,attrs:{item:e}})})),e.expandBtnDemoRecipes?i("div",{staticClass:"btn",on:{click:function(t){return e.showAll("DemoRecipes")}}},[e._v("EXPAND")]):e._e()],2),e.noDemoBooks?e._e():i("div",{staticClass:"demo-books-container"},[i("h4",[e._v("Demonology books:")]),e._l(e.playerItemsDemoBooks,(function(e,t){return i("item",{key:"demoBooks"+t,attrs:{item:e}})})),e.expandBtnDemoBooks?i("div",{staticClass:"btn",on:{click:function(t){return e.showAll("DemoBooks")}}},[e._v("EXPAND")]):e._e()],2)]),i("div",{staticClass:"btns-grid"},[i("div",{staticClass:"close-inventory btn",on:{click:e.returnToMain}},[e._v(" RETURN ")])])])},ee=[],te=(i("fb6a"),{components:{item:M},data:function(){return{expandHeads:!1,expandArms:!1,expandTorsos:!1,expandLegs:!1,expandHearts:!1,expandBrains:!1,expandNecroBooks:!1,expandNecroRecipes:!1,expandDemoRecipes:!1,expandDemoBooks:!1}},methods:{returnToMain:function(){this.$emit("closeInventory")},showAll:function(e){var t="expand"+e;this[t]=!0}},computed:{noItems:function(){return JSON.stringify(r.playerCharacter.inventory.craftingParts)===JSON.stringify({arms:[],legs:[],heads:[],torsos:[],brains:[],hearts:[]})&&"[]"===JSON.stringify(r.playerCharacter.inventory.necroBooks)&&"[]"===JSON.stringify(r.playerCharacter.inventory.necroRecipes)&&"[]"===JSON.stringify(r.playerCharacter.inventory.demoRecipes)&&"[]"===JSON.stringify(r.playerCharacter.inventory.demoBooks)},noNecBooks:function(){return"[]"===JSON.stringify(r.playerCharacter.inventory.necroBooks)},noDemoBooks:function(){return"[]"===JSON.stringify(r.playerCharacter.inventory.demoBooks)},noRecipes:function(){return"[]"===JSON.stringify(r.playerCharacter.inventory.recipes)},noCrafts:function(){return JSON.stringify(r.playerCharacter.inventory.craftingParts)===JSON.stringify({arms:[],legs:[],heads:[],torsos:[],brains:[],hearts:[]})},noHearts:function(){return"[]"===JSON.stringify(r.playerCharacter.inventory.craftingParts.hearts)},noBrains:function(){return"[]"===JSON.stringify(r.playerCharacter.inventory.craftingParts.brains)},noLegs:function(){return"[]"===JSON.stringify(r.playerCharacter.inventory.craftingParts.legs)},noArms:function(){return"[]"===JSON.stringify(r.playerCharacter.inventory.craftingParts.arms)},noTorsos:function(){return"[]"===JSON.stringify(r.playerCharacter.inventory.craftingParts.torsos)},noHeads:function(){return"[]"===JSON.stringify(r.playerCharacter.inventory.craftingParts.heads)},noNecroRecipes:function(){return"[]"===JSON.stringify(r.playerCharacter.inventory.necroRecipes)},noDemoRecipes:function(){return"[]"===JSON.stringify(r.playerCharacter.inventory.demoRecipes)},playerItemsHeads:function(){return this.expandHeads?r.playerCharacter.inventory.craftingParts.heads:r.playerCharacter.inventory.craftingParts.heads.slice(0,16)},expandBtnHeads:function(){return this.playerItemsHeads.length<r.playerCharacter.inventory.craftingParts.heads.length},playerItemsArms:function(){return this.expandArms?r.playerCharacter.inventory.craftingParts.arms:r.playerCharacter.inventory.craftingParts.arms.slice(0,16)},expandBtnArms:function(){return this.playerItemsArms.length<r.playerCharacter.inventory.craftingParts.arms.length},playerItemsTorsos:function(){return this.expandTorsos?r.playerCharacter.inventory.craftingParts.torsos:r.playerCharacter.inventory.craftingParts.torsos.slice(0,16)},expandBtnTorsos:function(){return this.playerItemsTorsos.length<r.playerCharacter.inventory.craftingParts.torsos.length},playerItemsLegs:function(){return this.expandLegs?r.playerCharacter.inventory.craftingParts.legs:r.playerCharacter.inventory.craftingParts.legs.slice(0,16)},expandBtnLegs:function(){return this.playerItemsLegs.legs<r.playerCharacter.inventory.craftingParts.heads.legs},playerItemsBrains:function(){return this.expandBrains?r.playerCharacter.inventory.craftingParts.brains:r.playerCharacter.inventory.craftingParts.brains.slice(0,16)},expandBtnBrains:function(){return this.playerItemsBrains.length<r.playerCharacter.inventory.craftingParts.heads.brains},playerItemsHearts:function(){return this.expandHearts?r.playerCharacter.inventory.craftingParts.hearts:r.playerCharacter.inventory.craftingParts.hearts.slice(0,16)},expandBtnHearts:function(){return this.playerItemsHearts.length<r.playerCharacter.inventory.craftingParts.hearts.length},playerItemsNecroBooks:function(){return this.expandNecroBooks?r.playerCharacter.inventory.necroBooks:r.playerCharacter.inventory.necroBooks.slice(0,16)},playerItemsDemoBooks:function(){return this.expandDemoBooks?r.playerCharacter.inventory.demoBooks:r.playerCharacter.inventory.demoBooks.slice(0,16)},expandBtnNecroBooks:function(){return this.playerItemsNecroBooks.length<r.playerCharacter.inventory.necroBooks.length},expandBtnDemoBooks:function(){return this.playerItemsDemoBooks.length<r.playerCharacter.inventory.demoBooks.length},playerItemsNecroRecipes:function(){return this.expandNecroRecipes?r.playerCharacter.inventory.necroRecipes:r.playerCharacter.inventory.necroRecipes.slice(0,16)},playerItemsDemoRecipes:function(){return this.expandDemoRecipes?r.playerCharacter.inventory.demoRecipes:r.playerCharacter.inventory.demoRecipes.slice(0,16)},expandBtnDemoRecipes:function(){return this.playerItemsDemoRecipes.length<r.playerCharacter.inventory.demoRecipes.length},expandBtnNecroRecipes:function(){return this.playerItemsNecroRecipes.length<r.playerCharacter.inventory.necroRecipes.length}}}),ie=te,se=(i("f454"),Object(u["a"])(ie,Q,ee,!1,null,"673897fb",null)),ae=se.exports,ne=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"character-sheet"},[i("div",{staticClass:"character-wrapper"},[i("div",{staticClass:"player-char-name"},[i("h3",[e._v("Name:")]),e._v(" "+e._s(e.playerCharacter.name))]),i("ul",{staticClass:"statistics-ul"},[e._m(0),i("li",[e._v("Endurance: "+e._s(e.playerCharacter.statistics.Endurance)+" ")]),i("li",[e._v("Intelligence: "+e._s(e.playerCharacter.statistics.Intelligence))]),i("li",[e._v("Luck: "+e._s(e.playerCharacter.statistics.Luck))]),i("li",[e._v("Magic find: "+e._s(e.playerCharacter.magicFind())+" ")]),i("li",[e._v("Action points: "+e._s(e.playerCharacter.calculateActionPoints()))])]),i("div",{staticClass:"skills-display-name"},[i("h4",[e._v("Skill effects:")]),i("ul",{staticClass:"skill-list-sheet"},e._l(e.playerCharacter.skillsSelected,(function(t,s){return i("li",{key:s},[e._v(e._s(t.effectDesc))])})),0)]),i("p",[e._v("Gold: "+e._s(e.playerCharacter.gold))])]),i("div",{staticClass:"buttons-wrapper"},[i("div",{staticClass:"close-btn btn",on:{click:e.closeCharacter}},[e._v("CLOSE")]),i("div",{staticClass:"btn ",class:{"level-up-active":e.levelUpAvailable}},[e._v("LEVEL UP")])])])},re=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("li",[i("h4",[e._v("Statistics:")])])}],oe={data:function(){return{playerCharacter:r.playerCharacter}},methods:{closeCharacter:function(){this.$emit("closeCharacter")}},computed:{levelUpAvailable:function(){return r.playerCharacter.experience>=r.playerCharacter.experienceForNextLevel()}}},ce=oe,le=(i("23c8"),Object(u["a"])(ce,ne,re,!1,null,"94370bec",null)),de=le.exports,pe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"creations"},[s("h2",[e._v("CREATIONS")]),s("p",[e._v("Number of units: "+e._s(e.monstersList.length))]),s("div",{staticClass:"creations-grid"},[e.noMonsters?s("h3",[e._v("You haven't created any monsters yet")]):e._e(),e.noMonsters?e._e():s("div",{staticClass:"creatures-wrapper-grid"},e._l(e.monstersList,(function(t,a){return s("div",{key:a,staticClass:"creature-display"},[s("div",{staticClass:"creature-portrait"},[s("img",{attrs:{src:i("67f7")("./"+t.imgUrl),alt:""}})]),s("div",{staticClass:"creature-stats"},[s("div",{staticClass:"creature-name"},[e._v(" "+e._s(t.name)+" ")]),s("div",{staticClass:"creature-hp"},[e._v(" Hit points: "+e._s(t.hp)+" ")]),s("div",{staticClass:"creature-dmg"},[e._v(" Damage: "+e._s(t.dmg)+" ")]),s("div",{staticClass:"creature-initiative"},[e._v(" Initiative: "+e._s(t.initiative)+" ")]),s("div",{staticClass:"special-abilities"},[s("h3",[e._v("Special abilities:")]),s("ul",{staticClass:"special-abilities-list-sheet"},[t.regeneration>0?s("li",[e._v("Regeneration: "+e._s(t.regeneration))]):e._e(),t.absorption>0?s("li",[e._v("Absorbtion: "+e._s(t.absorption))]):e._e()])]),s("div",{staticClass:"position-display"},[s("h3",[e._v("Position: "+e._s(t.position))])])]),s("div",{staticClass:"assign-unit-position btn",on:{click:function(i){return e.setPosition(t)}}},[e._v(" POSITION ")])])})),0)]),s("div",{staticClass:"buttons-wrapper"},[s("div",{staticClass:"prepare-defenses-btn btn",on:{click:e.openBattle}},[e._v(" DEBUG")]),s("div",{staticClass:"close-btn btn",on:{click:e.closeCreations}},[e._v("CLOSE")])]),e.debugOpen?s("debug-component",{on:{closeDebug:function(t){e.debugOpen=!1}}}):e._e(),e.assignPositionOpened?s("div",{staticClass:"assign-position"},[s("h2",[e._v("ASSIGN POSITION")]),s("p",[e._v("Position you assign to this unit will determine this unit's place on the battlefield. Unassigned positions are assigned automatically before the battle, but the results may be undesireable. ")]),s("p",[e._v("Unit: "),s("span",{staticClass:"highlighted"},[e._v(e._s(e.currentUnit.name))])]),s("ul",{staticClass:"position-options"},[s("li",{staticClass:"btn",on:{click:function(t){return e.assignPosition(1)}}},[e._v("Position 1")]),s("li",{staticClass:"btn",on:{click:function(t){return e.assignPosition(2)}}},[e._v("Position 2")]),s("li",{staticClass:"btn",on:{click:function(t){return e.assignPosition(3)}}},[e._v("Position 3")]),s("li",{staticClass:"btn",on:{click:function(t){return e.assignPosition(4)}}},[e._v("Position 4")]),s("li",{staticClass:"btn",on:{click:function(t){return e.assignPosition(5)}}},[e._v("Position 5")]),s("li",{staticClass:"btn",on:{click:function(t){return e.assignPosition(6)}}},[e._v("Position 6")]),s("li",{staticClass:"btn",on:{click:function(t){return e.assignPosition(7)}}},[e._v("Position 7")]),s("li",{staticClass:"btn",on:{click:function(t){return e.assignPosition(8)}}},[e._v("Position 8")]),s("li",{staticClass:"btn close-assign",on:{click:function(t){return e.assignPosition(0)}}},[e._v("CLOSE")])])]):e._e()],1)},ue=[],me=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"battle-screen"},[s("div",{staticClass:"log-and-unit-card-container"},[s("div",{directives:[{name:"show",rawName:"v-show",value:!e.displayCard,expression:"!displayCard"}],staticClass:"event-log"},[s("ul",{staticClass:"event-log-info-list scroll"},e._l(e.updateBattleEventLog,(function(t,i){return s("li",{key:i},[e._v(e._s(t))])})),0)]),e.displayCard?s("div",{staticClass:"active-unit-card"},[e.activeUnit.imgUrl?s("img",{attrs:{src:i("67f7")("./"+e.activeUnit.imgUrl),alt:""}}):e._e(),s("div",{staticClass:"stat-block-card"},[s("div",{staticClass:"card-regular-stats"},[e.activeUnit.name?s("p",[e._v(e._s(e.activeUnit.name))]):e._e(),e.activeUnit.hp?s("p",[e._v("Hit Points: "+e._s(e.activeUnit.hp))]):e._e(),e.activeUnit.dmg?s("p",[e._v("Damage: "+e._s(e.activeUnit.dmg))]):e._e(),e.activeUnit.initiative?s("p",[e._v("Initiative: "+e._s(e.activeUnit.initiative))]):e._e()]),s("div",{staticClass:"special-abilities"},[s("h4",[e._v("Special abilities:")]),s("ul",{staticClass:"special-abilities-list-sheet"},[e.activeUnit.regeneration>0?s("li",[e._v("Regeneration: "+e._s(e.activeUnit.regeneration))]):e._e(),e.activeUnit.absorption>0?s("li",[e._v("Absorbtion: "+e._s(e.activeUnit.absorption))]):e._e()]),s("h4",[e._v("Status effects:")]),s("ul",{staticClass:"special-abilities-list-sheet"},[e.activeUnit.poisonTicks>0?s("li",[e._v("Poisoned!")]):e._e()])])])]):e._e()]),s("div",{staticClass:"battle-wrapper"},[s("div",{staticClass:"battle-display-grid"},[s("div",{staticClass:"enemy-grid-wrapper"},[s("div",{staticClass:"enemy-units-grid"},[e.enemyUnit1?s("div",{staticClass:"unit enemy-unit-1 enemy-unit",on:{click:function(t){return e.attackFunction(e.enemyUnit1)}}},[s("img",{attrs:{src:i("67f7")("./"+e.enemyUnit1.imgUrl),alt:""}}),s("div",{staticClass:"hp-display  "},[e._v(e._s(e.enemyUnit1.hp))]),s("div",{staticClass:"enemy-unit-1-hit-anim"})]):e._e(),e.enemyUnit1?e._e():s("div",{staticClass:"unit-placeholder "},[s("img",{attrs:{src:i("9246"),alt:""}}),s("div",{staticClass:"placeholder-enemy-1"})]),e.enemyUnit2?s("div",{staticClass:"unit enemy-unit-2 enemy-unit",on:{click:function(t){return e.attackFunction(e.enemyUnit2)}}},[s("img",{attrs:{src:i("67f7")("./"+e.enemyUnit2.imgUrl),alt:""}}),s("div",{staticClass:"hp-display  "},[e._v(e._s(e.enemyUnit2.hp))]),s("div",{staticClass:"enemy-unit-2-hit-anim"})]):e._e(),e.enemyUnit2?e._e():s("div",{staticClass:"unit-placeholder "},[s("div",{staticClass:"placeholder-enemy-2"})]),e.enemyUnit3?s("div",{staticClass:"unit enemy-unit-3 enemy-unit",on:{click:function(t){return e.attackFunction(e.enemyUnit3)}}},[s("img",{attrs:{src:i("67f7")("./"+e.enemyUnit3.imgUrl),alt:""}}),s("div",{staticClass:"hp-display  "},[e._v(e._s(e.enemyUnit3.hp))]),s("div",{staticClass:"enemy-unit-3-hit-anim"})]):e._e(),e.enemyUnit3?e._e():s("div",{staticClass:"unit-placeholder "},[s("div",{staticClass:"placeholder-enemy-3"})]),e.enemyUnit4?s("div",{staticClass:"unit enemy-unit-4 enemy-unit",on:{click:function(t){return e.attackFunction(e.enemyUnit4)}}},[s("img",{attrs:{src:i("67f7")("./"+e.enemyUnit4.imgUrl),alt:""}}),s("div",{staticClass:"hp-display  "},[e._v(e._s(e.enemyUnit4.hp))]),s("div",{staticClass:"enemy-unit-4-hit-anim"})]):e._e(),e.enemyUnit4?e._e():s("div",{staticClass:"unit-placeholder "},[s("div",{staticClass:"placeholder-enemy-4"})]),e.enemyUnit5?s("div",{staticClass:"unit enemy-unit-5 enemy-unit",on:{click:function(t){return e.attackFunction(e.enemyUnit5)}}},[s("img",{attrs:{src:i("67f7")("./"+e.enemyUnit5.imgUrl),alt:""}}),s("div",{staticClass:"hp-display  "},[e._v(e._s(e.enemyUnit5.hp))]),s("div",{staticClass:"enemy-unit-5-hit-anim"})]):e._e(),e.enemyUnit5?e._e():s("div",{staticClass:"unit-placeholder "},[s("div",{staticClass:"placeholder-enemy-5"})]),e.enemyUnit6?s("div",{staticClass:"unit enemy-unit-6 enemy-unit",on:{click:function(t){return e.attackFunction(e.enemyUnit6)}}},[s("img",{attrs:{src:i("67f7")("./"+e.enemyUnit6.imgUrl),alt:""}}),s("div",{staticClass:"hp-display  "},[e._v(e._s(e.enemyUnit6.hp))]),s("div",{staticClass:"enemy-unit-6-hit-anim"})]):e._e(),e.enemyUnit6?e._e():s("div",{staticClass:"unit-placeholder "},[s("div",{staticClass:"placeholder-enemy-6"})]),e.enemyUnit7?s("div",{staticClass:"unit enemy-unit-7 enemy-unit",on:{click:function(t){return e.attackFunction(e.enemyUnit7)}}},[s("img",{attrs:{src:i("67f7")("./"+e.enemyUnit7.imgUrl),alt:""}}),s("div",{staticClass:"hp-display  "},[e._v(e._s(e.enemyUnit7.hp))]),s("div",{staticClass:"enemy-unit-7-hit-anim"})]):e._e(),e.enemyUnit7?e._e():s("div",{staticClass:"unit-placeholder "},[s("div",{staticClass:"placeholder-enemy-7"})]),e.enemyUnit8?s("div",{staticClass:"unit enemy-unit-8 enemy-unit",on:{click:function(t){return e.attackFunction(e.enemyUnit8)}}},[s("img",{attrs:{src:i("67f7")("./"+e.enemyUnit8.imgUrl),alt:""}}),s("div",{staticClass:"hp-display  "},[e._v(e._s(e.enemyUnit8.hp))]),s("div",{staticClass:"enemy-unit-8-hit-anim"})]):e._e(),e.enemyUnit8?e._e():s("div",{staticClass:"unit-placeholder "},[s("div",{staticClass:"placeholder-enemy-8"})])])]),s("div",{staticClass:"division"}),s("div",{staticClass:"player-grid-wrapper"},[s("div",{staticClass:"player-units-grid"},[e.playerUnit1?s("div",{staticClass:"unit player-unit-1 player-unit"},[s("img",{attrs:{src:i("67f7")("./"+e.playerUnit1.imgUrl),alt:""}}),s("div",{staticClass:"hp-display  "},[e._v(e._s(e.playerUnit1.hp))]),s("div",{staticClass:"player-unit-1-hit-anim"})]):e._e(),e.playerUnit1?e._e():s("div",{staticClass:"unit-placeholder "},[s("div",{staticClass:"placeholder-player-1"}),s("img",{attrs:{src:i("9246"),alt:""}})]),e.playerUnit2?s("div",{staticClass:"unit player-unit-2 player-unit"},[s("img",{attrs:{src:i("67f7")("./"+e.playerUnit2.imgUrl),alt:""}}),s("div",{staticClass:"hp-display  "},[e._v(e._s(e.playerUnit2.hp))]),s("div",{staticClass:"player-unit-2-hit-anim"})]):e._e(),e.playerUnit2?e._e():s("div",{staticClass:"unit-placeholder "},[s("div",{staticClass:"placeholder-player-2"})]),e.playerUnit3?s("div",{staticClass:"unit player-unit-3 player-unit"},[s("img",{attrs:{src:i("67f7")("./"+e.playerUnit3.imgUrl),alt:""}}),s("div",{staticClass:"hp-display  "},[e._v(e._s(e.playerUnit3.hp))]),s("div",{staticClass:"player-unit-3-hit-anim"})]):e._e(),e.playerUnit3?e._e():s("div",{staticClass:"unit-placeholder "},[s("div",{staticClass:"placeholder-player-3"})]),e.playerUnit4?s("div",{staticClass:"unit player-unit-4 player-unit"},[s("img",{attrs:{src:i("67f7")("./"+e.playerUnit4.imgUrl),alt:""}}),s("div",{staticClass:"hp-display  "},[e._v(e._s(e.playerUnit4.hp))]),s("div",{staticClass:"player-unit-4-hit-anim"})]):e._e(),e.playerUnit4?e._e():s("div",{staticClass:"unit-placeholder "},[s("div",{staticClass:"placeholder-player-4"})]),e.playerUnit5?s("div",{staticClass:"unit player-unit-5 player-unit"},[s("img",{attrs:{src:i("67f7")("./"+e.playerUnit5.imgUrl),alt:""}}),s("div",{staticClass:"hp-display  "},[e._v(e._s(e.playerUnit5.hp))]),s("div",{staticClass:"player-unit-5-hit-anim"})]):e._e(),e.playerUnit5?e._e():s("div",{staticClass:"unit-placeholder "},[s("div",{staticClass:"placeholder-player-5"})]),e.playerUnit6?s("div",{staticClass:"unit player-unit-6 player-unit"},[s("img",{attrs:{src:i("67f7")("./"+e.playerUnit6.imgUrl),alt:""}}),s("div",{staticClass:"hp-display  "},[e._v(e._s(e.playerUnit6.hp))]),s("div",{staticClass:"player-unit-6-hit-anim"})]):e._e(),e.playerUnit6?e._e():s("div",{staticClass:"unit-placeholder"},[s("div",{staticClass:"placeholder-player-6"})]),e.playerUnit7?s("div",{staticClass:"unit player-unit-7 player-unit"},[s("img",{attrs:{src:i("67f7")("./"+e.playerUnit7.imgUrl),alt:""}}),s("div",{staticClass:"hp-display  "},[e._v(e._s(e.playerUnit7.hp))]),s("div",{staticClass:"player-unit-7-hit-anim"})]):e._e(),e.playerUnit7?e._e():s("div",{staticClass:"unit-placeholder "},[s("div",{staticClass:"placeholder-player-7"})]),e.playerUnit8?s("div",{staticClass:"unit player-unit-8 player-unit"},[s("img",{attrs:{src:i("67f7")("./"+e.playerUnit8.imgUrl),alt:""}}),s("div",{staticClass:"hp-display  "},[e._v(e._s(e.playerUnit8.hp))]),s("div",{staticClass:"player-unit-8-hit-anim"})]):e._e(),e.playerUnit8?e._e():s("div",{staticClass:"unit-placeholder "},[s("div",{staticClass:"placeholder-player-8"})])])])])]),s("div",{staticClass:"buttons-wrapper"},[s("div",{staticClass:"continue-to-end-game end-game-btns btn",on:{click:e.restartDebug}},[e._v("Restart debug")]),s("div",{staticClass:"continue-to-end-game end-game-btns btn",on:{click:e.closeDebug}},[e._v("Close debug")])])])},he=[],ye=(i("99af"),i("c975"),i("d3b7"),i("96cf"),i("1da1")),ve={data:function(){return{playerUnits:[],playerUnitsSecondWave:[],enemyUnits:[],infoDisplayMode:"INFO CARD",displayCard:!1,playerWon:!1,enemyWon:!1,updateBattleEventLog:[],duringPlayerMove:!1,playerUnit1:void 0,playerUnit2:void 0,playerUnit3:void 0,playerUnit4:void 0,playerUnit5:void 0,playerUnit6:void 0,playerUnit7:void 0,playerUnit8:void 0,enemyUnit1:void 0,enemyUnit2:void 0,enemyUnit3:void 0,enemyUnit4:void 0,enemyUnit5:void 0,enemyUnit6:void 0,enemyUnit7:void 0,enemyUnit8:void 0,selectModeActive:!1,initiativeQ:[],unitsToMove:[],unitsMoved:[]}},methods:{closeBattle:function(){this.$emit("closeBattleScreen")},closeDebug:function(){this.$emit("closeDebug")},switchDisplay:function(){this.displayCard=!this.displayCard,this.displayCard?this.infoDisplayMode="BATTLE LOG":this.infoDisplayMode="INFO CARD"},restartDebug:function(){this.addUnits(),this.startBattle()},updateScroll:function(){var e=this.$el.querySelector(".scroll");e.scrollTop=e.scrollHeight},deathUpdate:function(){var e=this;if(this.playerUnit1&&this.playerUnit1.hp<=0){var t=this.playerUnits.indexOf(this.playerUnit1);this.playerUnits.splice(t,1),this.playerUnit1=void 0}if(this.playerUnit2&&this.playerUnit2.hp<=0){var i=this.playerUnits.indexOf(this.playerUnit2);this.playerUnits.splice(i,1),this.playerUnit2=void 0}if(this.playerUnit3&&this.playerUnit3.hp<=0){var s=this.playerUnits.indexOf(this.playerUnit3);this.playerUnits.splice(s,1),this.playerUnit3=void 0}if(this.playerUnit4&&this.playerUnit4.hp<=0){var a=this.playerUnits.indexOf(this.playerUnit4);this.playerUnits.splice(a,1),this.playerUnit4=void 0}if(this.playerUnit5&&this.playerUnit5.hp<=0){var n=this.playerUnits.indexOf(this.playerUnit5);this.playerUnits.splice(n,1),this.playerUnit5=void 0}if(this.playerUnit6&&this.playerUnit6.hp<=0){var r=this.playerUnits.indexOf(this.playerUnit6);this.playerUnits.splice(r,1),this.playerUnit6=void 0}if(this.playerUnit7&&this.playerUnit7.hp<=0){var o=this.playerUnits.indexOf(this.playerUnit7);this.playerUnits.splice(o,1),this.playerUnit7=void 0}if(this.playerUnit8&&this.playerUnit8.hp<=0){var c=this.playerUnits.indexOf(this.playerUnit8);this.playerUnits.splice(c,1),this.playerUnit8=void 0}if(this.enemyUnit1&&this.enemyUnit1.hp<=0){var l=this.enemyUnits.indexOf(this.enemyUnit1);this.enemyUnits.splice(l,1),this.enemyUnit1=void 0}if(this.enemyUnit2&&this.enemyUnit2.hp<=0){var d=this.enemyUnits.indexOf(this.enemyUnit2);this.enemyUnits.splice(d,1),this.enemyUnit2=void 0}if(this.enemyUnit3&&this.enemyUnit3.hp<=0){var p=this.enemyUnits.indexOf(this.enemyUnit3);this.enemyUnits.splice(p,1),this.enemyUnit3=void 0}if(this.enemyUnit4&&this.enemyUnit4.hp<=0){var u=this.enemyUnits.indexOf(this.enemyUnit4);this.enemyUnits.splice(u,1),this.enemyUnit4=void 0}if(this.enemyUnit5&&this.enemyUnit5.hp<=0){var m=this.enemyUnits.indexOf(this.enemyUnit5);this.enemyUnits.splice(m,1),this.enemyUnit5=void 0}if(this.enemyUnit6&&this.enemyUnit6.hp<=0){var h=this.enemyUnits.indexOf(this.enemyUnit6);this.enemyUnits.splice(h,1),this.enemyUnit6=void 0}if(this.enemyUnit7&&this.enemyUnit7.hp<=0){var y=this.enemyUnits.indexOf(this.enemyUnit7);this.enemyUnits.splice(y,1),this.enemyUnit7=void 0}if(this.enemyUnit8&&this.enemyUnit8.hp<=0){var v=this.enemyUnits.indexOf(this.enemyUnit8);this.enemyUnits.splice(v,1),this.enemyUnit8=void 0}this.unitsMoved.forEach((function(t){if(t.hp<=0){var i=e.unitsMoved.indexOf(t);e.unitsMoved.splice(i,1)}}))},startBattle:function(){var e=this;return Object(ye["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.checkForVictory(),!e.playerWon){t.next=3;break}return t.abrupt("return");case 3:if(!e.duringPlayerMove){t.next=5;break}return t.abrupt("return");case 5:if(e.checkStacksForDeadUnits(),"enemy"!==e.unitsToMove[0].owner){t.next=10;break}return"[]"!==JSON.stringify(e.unitsToMove)&&"enemy"===e.unitsToMove[0].owner&&e.$el.querySelector("."+e.unitsToMove[0].owner+"-unit-"+e.unitsToMove[0].position).classList.add("active-enemy-unit-border"),t.next=10,e.enemyMoveFunction();case 10:"player"===e.unitsToMove[0].owner&&("[]"!==JSON.stringify(e.unitsToMove)&&"player"===e.unitsToMove[0].owner&&e.$el.querySelector(".player-unit-"+e.unitsToMove[0].position).classList.add("active-player-unit-border"),e.selectModeActive=!0,e.duringPlayerMove=!0),e.checkForVictory(),e.playerWon||e.startBattle();case 13:case"end":return t.stop()}}),t)})))()},checkForNextTurn:function(){0===this.unitsToMove.length&&(this.newTurn(),this.updateLog("Next turn starts."))},passiveAbilities:function(){var e=this,t=this;this.unitsMoved.forEach((function(i){i.poisonTicks>0&&(t.$el.querySelector("."+i.owner+"-unit-"+i.position+"-hit-anim").classList.add("poison-tick"),Object(W["setTimeout"])((function(){e.$el.querySelector("."+i.owner+"-unit-"+i.position+"-hit-anim").classList.remove("poison-tick")}),300),i.hp-=i.poisonValue,i.poisonTicks-=1,e.updateLog(i.name+" takes "+i.poisonValue+" damage from poison.")),i.hp+=i.regeneration,i.hp>i.maxHp&&(i.hp=i.maxHp),i.regeneration>0&&e.updateLog(i.name+" regenerates "+i.regeneration+" hit points.")})),this.checkStacksForDeadUnits()},attackFunction:function(e){!0===this.selectModeActive&&(this.selectModeActive=!1,this.damageFunction(this.unitsToMove[0],e),this.deathUpdate(),this.$el.querySelectorAll(".player-unit").forEach((function(e){e.classList.remove("active-player-unit-border")})),this.unitsMoved.push(this.unitsToMove[0]),this.unitsToMove.shift(),this.duringPlayerMove=!1,this.checkForNextTurn(),this.startBattle())},enemyMoveFunction:function(){var e=this;return new Promise((function(t){var i=e;"[]"!==JSON.stringify(e.unitsToMove[0])&&"enemy"===e.unitsToMove[0].owner&&e.$el.querySelector("."+e.unitsToMove[0].owner+"-unit-"+e.unitsToMove[0].position).classList.add("active-enemy-unit-border"),Object(W["setTimeout"])((function(){if("enemy"===i.unitsToMove[0].owner&&i.playerUnits.length>0){for(var e=0;e<i.playerUnits.length;e++)if(i.playerUnits[e].hp>0){i.damageFunction(i.unitsToMove[0],i.playerUnits[e]),i.deathUpdate();break}i.$el.querySelectorAll(".enemy-unit").forEach((function(e){e.classList.remove("active-enemy-unit-border")})),i.unitsMoved.push(i.unitsToMove[0]),i.unitsToMove.shift(),i.checkForNextTurn(),i.updateScroll(),t("enemyMoveFunction")}else Object(W["setTimeout"])((function(){i.enemyWon=!0}),500)}),700)}))},damageFunction:function(e,t){var i=this;function s(){return e.dmg-t.absorption>0?e.dmg-t.absorption:1}if(this.$el.querySelector("."+t.owner+"-unit-"+t.position+"-hit-anim").classList.add("hit-anim"),Object(W["setTimeout"])((function(){i.$el.querySelector("."+t.owner+"-unit-"+t.position+"-hit-anim")?i.$el.querySelector("."+t.owner+"-unit-"+t.position+"-hit-anim").classList.remove("hit-anim"):i.$el.querySelector(".placeholder-"+t.owner+"-"+t.position)&&i.$el.querySelector(".placeholder-"+t.owner+"-"+t.position).classList.add("hit-death")}),300),t.hp-=s(),t.hp<0&&(t.hp=0),this.updateLog(t.name+" is hit for "+s()+" by the "+e.name+"."),t.absorption>0&&this.updateLog(t.name+" absorbs "+t.absorption+" damage!"),e.poisonDuration>0&&((!t.poisonTicks||t.poisonTicks<e.poisonDuration)&&(t.poisonTicks=e.poisonDuration),(!t.poisonValue||t.poisonValue<e.poisonDmg)&&(t.poisonValue=e.poisonDmg),this.updateLog(t.name+" is poisoned by the "+e.name+"!")),t.hp<=0){var a=this.playerUnits.indexOf(t);if(this.checkStacksForDeadUnits(),this.updateLog(t.name+" is killed!"),"player"===t.owner&&this.playerUnitsSecondWave.length>0){var n="playerUnit"+t.position;this.playerUnits.splice(a,0,this.playerUnitsSecondWave[0]),this.playerUnitsSecondWave.shift(),this.unitsToMove.push(this.playerUnits[a]),this.playerUnits[a].position=t.position,this[n]=this.playerUnits[a],this.updateLog("One of your units, "+this.playerUnits[a].name+", enters the battle from reserves in the place of the fallen "+t.name+"!")}}},checkStacksForDeadUnits:function(){this.deathUpdate(),this.unitsToMove=this.unitsToMove.filter((function(e){return e.hp>0})),this.unitsMoved=this.unitsMoved.filter((function(e){return e.hp>0})),this.playerUnits=this.playerUnits.filter((function(e){return e.hp>0}))},newTurn:function(){0===this.unitsToMove.length&&(this.passiveAbilities(),this.unitsToMove=this.unitsMoved,this.unitsMoved=[])},checkForVictory:function(){void 0===this.enemyUnit1&&void 0===this.enemyUnit2&&void 0===this.enemyUnit3&&void 0===this.enemyUnit4&&void 0===this.enemyUnit5&&void 0===this.enemyUnit6&&void 0===this.enemyUnit7&&void 0===this.enemyUnit8&&(this.checkStacksForDeadUnits(),this.playerUnits.forEach((function(e){e.hp=e.maxHp})),this.playerWon=!0,this.updateBattleEventLog.push("You defeat the forces of order! The battle is won! You can continue your experiments undisturbed... for now."))},gameOver:function(){this.$emit("gameOver")},battleWon:function(){var e;(this.checkStacksForDeadUnits(),r.playerCharacter.creatures=this.playerUnits,this.playerUnitsSecondWave.length>0)&&(e=r.playerCharacter.creatures).push.apply(e,Object(E["a"])(this.playerUnitsSecondWave));this.$emit("playerWins")},updateLog:function(e){var t=this;this.updateBattleEventLog.push(e),Object(W["setTimeout"])((function(){t.updateScroll()}),100)},sortUnits:function(e){var t=e+"Units";this[t].sort((function(e,t){return e.position===t.position&&(e.position++,e.position>8&&(e.position=8)),t.position-e.position}))},assignPositions:function(e){var t=this,i=this;function s(e){if(e.position>=9){var t=i[a].indexOf(e);i[a].splice(t,1),i.playerUnitsSecondWave.push(e)}}var a=e+"Units",n=e+"Unit";this[a].forEach((function(e){for(var i=1;i<=8;i++){var a=n+i;s(e),e.position===i&&(t[a]?(e.position++,s(e)):t[a]=e)}}))},addUnits:function(){for(var e=0;e<3;e++){var t=o.createKnight();this.enemyUnits.push(t)}for(var i=0;i<5;i++){var s=s=o.createAssassin();this.enemyUnits.push(s)}var a=new o.UnitOfOrder("Vampire",280,280,35,"vampire-girl.svg",35,"player",12,14,230,1);this.playerUnits.push(a)}},computed:{activeUnit:function(){return 0===this.unitsToMove.length?this.unitsMoved[0]:this.unitsToMove[0]}},created:function(){this.addUnits(),this.sortUnits("enemy"),this.updateBattleEventLog.push("Angry townspeople are at your gates, undoubtedly to end good doctor's life. Let's hope your monsters are strong enough..."),this.sortUnits("player"),this.assignPositions("player"),this.assignPositions("enemy");var e=[].concat(Object(E["a"])(this.playerUnits),Object(E["a"])(this.enemyUnits));e.sort((function(e,t){return t.initiative-e.initiative})),this.unitsToMove=e},mounted:function(){this.startBattle()}},fe=ve,ge=(i("30ea"),Object(u["a"])(fe,me,he,!1,null,"59dbc55e",null)),Ce=ge.exports,be={components:{debugComponent:Ce},data:function(){return{debugOpen:!1,assignPositionOpened:!1,currentUnit:{}}},methods:{closeCreations:function(){this.$emit("closeCreations")},openBattle:function(){this.debugOpen=!0},setPosition:function(e){this.currentUnit=e,this.assignPositionOpened=!0},assignPosition:function(e){var t=this;if(0===e)return this.assignPositionOpened=!1,void(this.currentUnit={});this.currentUnit.position=e,r.playerCharacter.creatures.forEach((function(e){e.position===t.currentUnit.position&&e!==t.currentUnit&&(e.position=1)})),this.assignPositionOpened=!1,this.currentUnit={}}},computed:{monstersList:function(){return r.playerCharacter.creatures},noMonsters:function(){return"[]"===JSON.stringify(r.playerCharacter.creatures)}}},_e=be,ke=(i("33b6"),Object(u["a"])(_e,pe,ue,!1,null,"52c55a66",null)),Ue=ke.exports,Oe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"creations"},[s("h2",[e._v("BESTIARY")]),s("p",[e._v("Browse previously seen enemies and check the next adventurers party composition, if you had them spied.")]),s("div",{staticClass:"creations-grid"},[e.noMonsters?s("h3",[e._v("You haven't encountered any hostile adventurers yet.")]):e._e(),e.noMonsters?e._e():s("div",{staticClass:"creatures-wrapper-grid"},e._l(e.monstersList,(function(t,a){return s("div",{key:a,staticClass:"creature-display"},[s("div",{staticClass:"creature-portrait"},[s("img",{attrs:{src:i("67f7")("./"+t.imgUrl),alt:""}})]),s("div",{staticClass:"creature-stats"},[s("div",{staticClass:"creature-name"},[e._v(" "+e._s(t.name)+" ")]),s("div",{staticClass:"creature-hp"},[e._v(" Hit points: "+e._s(t.maxHp)+" ")]),s("div",{staticClass:"creature-dmg"},[e._v(" Damage: "+e._s(t.dmg)+" ")]),s("div",{staticClass:"creature-initiative"},[e._v(" Initiative: "+e._s(t.initiative)+" ")]),s("div",{staticClass:"special-abilities"},[s("h3",[e._v("Special abilities:")]),s("ul",{staticClass:"special-abilities-list-sheet"},[t.regeneration>0?s("li",[e._v("Regeneration: "+e._s(t.regeneration))]):e._e(),t.absorption>0?s("li",[e._v("Absorbtion: "+e._s(t.absorption))]):e._e()])]),s("div",{staticClass:"position-display"},[s("h3",[e._v("Position: "+e._s(t.position))])])])])})),0)]),s("div",{staticClass:"buttons-wrapper"},[s("div",{staticClass:"close-btn btn",on:{click:e.showSpyReport}},[e._v("View spy report")]),s("div",{staticClass:"close-btn btn",on:{click:e.closeBestiary}},[e._v("RETURN")])])])},Se=[],Me={components:{},data:function(){return{}},methods:{closeBestiary:function(){this.$emit("closeBestiary")},showSpyReport:function(){console.log("nxt wave will be some peasants and knights, you know, stuff, trust me I'm a professional spy"),console.log(r.playerCharacter.seenEnemies)}},computed:{monstersList:function(){return r.playerCharacter.seenEnemies},noMonsters:function(){return"[]"===JSON.stringify(r.playerCharacter.seenEnemies)}}},we=Me,Te=(i("6eff"),Object(u["a"])(we,Oe,Se,!1,null,"676cc609",null)),Ie=Te.exports,Ne=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"town"},[e.shopModeSelected?e._e():i("div",{staticClass:"town-locations-grid"},[i("h2",[e._v("TOWN")]),i("h3",[e._v("Buy or sell body parts on the Black Market, or request intelligence services of highly suspicious individuals in the Den of Outlaws.")]),i("ul",{staticClass:"locations-list"},[i("li",{staticClass:"btn",on:{click:function(t){e.blackMarketOpen=!0}}},[e._v("Black Market")]),i("li",{staticClass:"btn",on:{click:function(t){e.denOpen=!0}}},[e._v("Den of Outlaws")]),i("li",{staticClass:"btn",on:{click:e.backToMain}},[e._v("Return")])])]),e.blackMarketOpen?i("div",{staticClass:"black-market"},[i("div",{staticClass:"black-market-selection-grid"},[e.shopModeSelected?e._e():i("div",{staticClass:"shop-mode-selection"},[i("h2",[e._v("SHOP")]),i("ul",{staticClass:"shop-selection-btns"},[i("li",{staticClass:"btn",on:{click:function(t){return e.selectedShopMode("buy")}}},[e._v("Buy items")]),i("li",{staticClass:"btn",on:{click:function(t){return e.selectedShopMode("sell")}}},[e._v("Sell items")])])]),e.shopModeSelected&&e.selectedBuy?i("div",{staticClass:"black-market-shop-grid"},[i("shop-component",{attrs:{itemsList:e.itemsList,goldAmount:e.goldAmount},on:{closeShop:e.update,addItemToInventory:function(t){return e.addBoughtItem(t)}}})],1):e._e(),e.shopModeSelected&&e.selectedSell?i("div",{staticClass:"black-market-sell-grid"},[i("h2",[e._v("SELL ITEMS")]),i("h3",{staticClass:"gold"},[e._v("Gold: "+e._s(e.playerGold))]),i("div",{staticClass:"sell-items-grid"},[e.noItems?i("h3",[e._v("No items in the inventory.")]):e._e(),e.noItems?e._e():i("div",{staticClass:"items-container"},[e.noCrafts?e._e():i("div",{staticClass:"crafting-materials"},[i("h3",[e._v("Body parts:")]),e.noHeads?e._e():i("div",{staticClass:"heads-container"},[i("h4",[e._v("Heads:")]),e._l(e.playerItemsHeads,(function(t,s){return i("item",{key:"heads"+s,attrs:{item:t,sellValue:e.sellValueFormula(t)},nativeOn:{click:function(i){return e.selectItem(t)}}})}))],2),e.noArms?e._e():i("div",{staticClass:"arms-container"},[i("h4",[e._v("Arms:")]),e._l(e.playerItemsArms,(function(t,s){return i("item",{key:"arms"+s,attrs:{item:t,sellValue:e.sellValueFormula(t)},nativeOn:{click:function(i){return e.selectItem(t)}}})}))],2),e.noTorsos?e._e():i("div",{staticClass:"torsos-container"},[i("h4",[e._v("Torsos:")]),e._l(e.playerItemsTorsos,(function(t,s){return i("item",{key:"torsos"+s,attrs:{item:t,sellValue:e.sellValueFormula(t)},nativeOn:{click:function(i){return e.selectItem(t)}}})}))],2),e.noLegs?e._e():i("div",{staticClass:"legs-container"},[i("h4",[e._v("Legs:")]),e._l(e.playerItemsLegs,(function(t,s){return i("item",{key:"legs"+s,attrs:{item:t,sellValue:e.sellValueFormula(t)},nativeOn:{click:function(i){return e.selectItem(t)}}})}))],2),e.noBrains?e._e():i("div",{staticClass:"brains-container"},[i("h4",[e._v("Brains:")]),e._l(e.playerItemsBrains,(function(t,s){return i("item",{key:"brains"+s,attrs:{item:t,sellValue:e.sellValueFormula(t)},nativeOn:{click:function(i){return e.selectItem(t)}}})}))],2),e.noHearts?e._e():i("div",{staticClass:"hearts-container"},[i("h4",[e._v("Hearts:")]),e._l(e.playerItemsHearts,(function(t,s){return i("item",{key:"hearts"+s,attrs:{item:t,sellValue:e.sellValueFormula(t)},nativeOn:{click:function(i){return e.selectItem(t)}}})}))],2)]),e.noNecBooks?e._e():i("div",{staticClass:"Necromancy books"},[i("h3",[e._v("Books:")]),e._l(e.playerItemsNecroBooks,(function(t,s){return i("item",{key:"necbooks"+s,attrs:{item:t,sellValue:e.sellValueFormula(t)},nativeOn:{click:function(i){return e.selectItem(t)}}})}))],2),e.noNecroRecipes?e._e():i("div",{staticClass:"recipes"},[i("h3",[e._v("Necro Recipes:")])]),e.noNecroRecipes?e._e():i("div",{staticClass:"necro-recipes-container"},[i("h4",[e._v("Necromancy spells:")]),e._l(e.playerItemsNecroRecipes,(function(t,s){return i("item",{key:"necroRecipes"+s,attrs:{item:t,sellValue:e.sellValueFormula(t)},nativeOn:{click:function(i){return e.selectItem(t)}}})}))],2),e.noDemoRecipes?e._e():i("div",{staticClass:"recipes"},[i("h3",[e._v("Demo Recipes:")])]),e.noDemoRecipes?e._e():i("div",{staticClass:"demo-recipes-container"},[i("h4",[e._v("Demonology spells:")]),e._l(e.playerItemsDemoRecipes,(function(t,s){return i("item",{key:"deniRecipes"+s,attrs:{item:t,sellValue:e.sellValueFormula(t)},nativeOn:{click:function(i){return e.selectItem(t)}}})}))],2),e.noDemoBooks?e._e():i("div",{staticClass:"recipes"},[i("h3",[e._v("Demo Books:")])]),e.noDemoBooks?e._e():i("div",{staticClass:"demo-recipes-container"},[i("h4",[e._v("Demonology books:")]),e._l(e.playerItemsDemoBooks,(function(t,s){return i("item",{key:"demoBooks"+s,attrs:{item:t,sellValue:e.sellValueFormula(t)},nativeOn:{click:function(i){return e.selectItem(t)}}})}))],2)])]),i("div",{staticClass:"selected-item"},[i("h3",[e._v("Selected item:")]),e.itemSelected?i("item",{attrs:{item:e.selectedItem}}):e._e(),e.itemSelected?e._e():i("div",{staticClass:"no-item-selected-text"},[e._v(" Select an item to sell ")]),i("div",{staticClass:"gold-cost-display"},[e._v(" Sell value: "+e._s(e.currentItemSellValue)+" ")])],1),i("div",{staticClass:"shop-sell-btns"},[i("div",{staticClass:"shop-sell-btn btn",on:{click:e.sell}},[e._v(" SELL ")]),i("div",{staticClass:"shop-return-btn btn",on:{click:e.closeSellShop}},[e._v(" RETURN ")])])]):e._e()])]):e._e(),e.denOpen?i("den-component",{on:{closeDen:function(t){e.denOpen=!1}}}):e._e()],1)},Ae=[],Pe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"den-of-outlaws"},[i("div",{staticClass:"den-locations-grid"},[i("h2",[e._v("DEN OF OUTLAWS")]),i("h3",[e._v("In this place of trickery and deception, you can hire infiltration specialists, or delay adventurers' attempts at organising a raiding party against you.")]),i("div",{staticClass:"player-gold"},[e._v(" Gold: "+e._s(e.playerGold)+" ")]),i("ul",{staticClass:"den-locations-list"},[i("p",{staticClass:"action-desc"},[e._v("Pay for a diversion that will delay adventurers and make it significantly harder to reach your position. Best use when you need more time to prepare defences. Cost: "+e._s(e.costOfDelay))]),i("li",{staticClass:"btn",on:{click:e.decreaseHostility}},[e._v("Organise a diversion")]),i("p",{staticClass:"action-desc"},[e._v("Send a spy to find out the unit composition of the next enemy party. This service gets more expensive the more enemies there are. Cost: "+e._s(e.costOfSpy))]),i("li",{staticClass:"btn",on:{click:e.spy}},[e._v("Send a spy")]),i("li",{staticClass:"btn",on:{click:e.backToMain}},[e._v("Return")])])]),i("transition",{attrs:{name:"show-modal"}},[e.displayInfo?i("div",{staticClass:"info-modal"},[i("p",[e._v(e._s(this.message))]),i("p",{staticClass:"btn",on:{click:function(t){e.displayInfo=!1}}},[e._v("Close")])]):e._e()])],1)},Be=[],xe={components:{},data:function(){return{displayInfo:!1,message:"You gain info on one of the party members! New entry added to bestiary."}},methods:{decreaseHostility:function(){this.playerGold<this.costOfDelay?this.displayInfoFn("You can't afford this service!"):(r.playerCharacter.hostilityLevel-=6,r.playerCharacter.hostilityLevel<0&&(r.playerCharacter.hostilityLevel=0),r.gameState.usesOfMislead++,r.playerCharacter.gold-=this.costOfDelay,this.displayInfoFn("A diversion was successful! Misled adventurers will show up at your door much later than expected."))},backToMain:function(){this.$emit("closeDen")},spy:function(){this.playerGold<this.costOfSpy?this.displayInfoFn("You can't afford this service!"):(r.playerGold.gold-=this.costOfSpy,this.displayInfoFn("You gain info on one of the party members! New entry added to bestiary."))},displayInfoFn:function(e){this.displayInfo=!0,this.message=e}},computed:{playerGold:function(){return r.playerCharacter.gold},costOfSpy:function(){return r.gameState.enemyUnits.length>=1?300+50*r.gameState.enemyUnits.length:300},costOfDelay:function(){return 100+50*r.gameState.usesOfMislead}}},He=xe,Re=(i("4e09"),Object(u["a"])(He,Pe,Be,!1,null,"0b036395",null)),De=Re.exports,Le={components:{shopComponent:N,item:M,denComponent:De},data:function(){return{shopModeSelected:!1,selectedBuy:!1,selectedSell:!1,blackMarketOpen:!1,itemsList:[],itemSelected:!1,selectedItem:{},denOpen:!1,playerItemsHeads:r.playerCharacter.inventory.craftingParts.heads,playerItemsArms:r.playerCharacter.inventory.craftingParts.arms,playerItemsTorsos:r.playerCharacter.inventory.craftingParts.torsos,playerItemsLegs:r.playerCharacter.inventory.craftingParts.legs,playerItemsHearts:r.playerCharacter.inventory.craftingParts.hearts,playerItemsBrains:r.playerCharacter.inventory.craftingParts.brains,playerItemsNecroBooks:r.playerCharacter.inventory.necroBooks,playerItemsNecroRecipes:r.playerCharacter.inventory.necroRecipes,playerItemsDemoRecipes:r.playerCharacter.inventory.demoRecipes,playerItemsDemoBooks:r.playerCharacter.inventory.demoBooks}},methods:{backToMain:function(){this.$emit("closeShop")},openDen:function(){this.denOpen=!0},selectedShopMode:function(e){"sell"===e?this.selectedSell=!0:"buy"===e&&(this.selectedBuy=!0),this.shopModeSelected=!0,this.createItemsList()},createItemsList:function(){function e(e,t){return Math.floor(Math.random()*(t-e+1)+e)}var t=e(1,10);"[]"===JSON.stringify(this.itemsList)?this.itemsList=P.firstShopItems:t>5&&(this.itemsList=[],this.itemsList.push(A.heads[0]))},update:function(e){r.playerCharacter.gold=e,this.shopModeSelected=!1,this.selectedBuy=!1,this.selectedSell=!1,this.blackMarketOpen=!1},addBoughtItem:function(e){"craft"===e.function?r.playerCharacter.inventory.craftingParts[e.type].push(e):"necroBook"===e.function?r.playerCharacter.inventory.necroBooks.push(e):"necroRecipes"===e.function&&r.playerCharacter.inventory.necroRecipes.push(e)},selectItem:function(e){this.itemSelected=!0,this.selectedItem=e},sell:function(){if(r.playerCharacter.gold+=this.currentItemSellValue,"craft"===this.selectedItem.function&&"legs"===this.selectedItem.type){var e=r.playerCharacter.inventory.craftingParts.legs.indexOf(this.selectedItem);r.playerCharacter.inventory.craftingParts.legs.splice(e,1)}else if("craft"===this.selectedItem.function&&"arms"===this.selectedItem.type){var t=r.playerCharacter.inventory.craftingParts.arms.indexOf(this.selectedItem);r.playerCharacter.inventory.craftingParts.arms.splice(t,1)}else if("craft"===this.selectedItem.function&&"heads"===this.selectedItem.type){var i=r.playerCharacter.inventory.craftingParts.heads.indexOf(this.selectedItem);r.playerCharacter.inventory.craftingParts.heads.splice(i,1)}else if("craft"===this.selectedItem.function&&"brains"===this.selectedItem.type){var s=r.playerCharacter.inventory.craftingParts.brains.indexOf(this.selectedItem);r.playerCharacter.inventory.craftingParts.brains.splice(s,1)}else if("craft"===this.selectedItem.function&&"hearts"===this.selectedItem.type){var a=r.playerCharacter.inventory.craftingParts.hearts.indexOf(this.selectedItem);r.playerCharacter.inventory.craftingParts.hearts.splice(a,1)}else if("craft"===this.selectedItem.function&&"torsos"===this.selectedItem.type){var n=r.playerCharacter.inventory.craftingParts.torsos.indexOf(this.selectedItem);r.playerCharacter.inventory.craftingParts.torsos.splice(n,1)}else if("necroBook"===this.selectedItem.function&&"necroBooks"===this.selectedItem.type){var o=r.playerCharacter.inventory.necroBooks.indexOf(this.selectedItem);r.playerCharacter.inventory.necroBooks.splice(o,1)}else if("necroRecipes"===this.selectedItem.function&&"necroRecipes"===this.selectedItem.type){var c=r.playerCharacter.inventory.necroRecipes.indexOf(this.selectedItem);r.playerCharacter.inventory.necroRecipes.splice(c,1)}else if("demoRecipes"===this.selectedItem.function&&"demoRecipes"===this.selectedItem.type){var l=r.playerCharacter.inventory.demoRecipes.indexOf(this.selectedItem);r.playerCharacter.inventory.demoRecipes.splice(l,1)}else if("demoBook"===this.selectedItem.function&&"demoBooks"===this.selectedItem.type){var d=r.playerCharacter.inventory.demoBooks.indexOf(this.selectedItem);r.playerCharacter.inventory.demoBooks.splice(d,1)}this.selectedItem={},this.itemSelected=!1},closeSellShop:function(){this.shopModeSelected=!1,this.selectedBuy=!1,this.selectedSell=!1,this.blackMarketOpen=!1},sellValueFormula:function(e){return Math.floor(e.cost/3)}},computed:{goldAmount:function(){return r.playerCharacter.gold},noItems:function(){return JSON.stringify(r.playerCharacter.inventory.craftingParts)===JSON.stringify({arms:[],legs:[],heads:[],torsos:[],brains:[],hearts:[]})&&"[]"===JSON.stringify(r.playerCharacter.inventory.necroBooks)&&"[]"===JSON.stringify(r.playerCharacter.inventory.necroRecipes)},noNecBooks:function(){return"[]"===JSON.stringify(r.playerCharacter.inventory.necroBooks)},noDemoBooks:function(){return"[]"===JSON.stringify(r.playerCharacter.inventory.demoBooks)},noRecipes:function(){return"[]"===JSON.stringify(r.playerCharacter.inventory.recipes)},noCrafts:function(){return JSON.stringify(r.playerCharacter.inventory.craftingParts)===JSON.stringify({arms:[],legs:[],heads:[],torsos:[],brains:[],hearts:[]})},noHearts:function(){return"[]"===JSON.stringify(r.playerCharacter.inventory.craftingParts.hearts)},noBrains:function(){return"[]"===JSON.stringify(r.playerCharacter.inventory.craftingParts.brains)},noLegs:function(){return"[]"===JSON.stringify(r.playerCharacter.inventory.craftingParts.legs)},noArms:function(){return"[]"===JSON.stringify(r.playerCharacter.inventory.craftingParts.arms)},noTorsos:function(){return"[]"===JSON.stringify(r.playerCharacter.inventory.craftingParts.torsos)},noHeads:function(){return"[]"===JSON.stringify(r.playerCharacter.inventory.craftingParts.heads)},noNecroRecipes:function(){return"[]"===JSON.stringify(r.playerCharacter.inventory.necroRecipes)},noDemoRecipes:function(){return"[]"===JSON.stringify(r.playerCharacter.inventory.demoRecipes)},currentItemSellValue:function(){return"{}"!==JSON.stringify(this.selectedItem)?Math.floor(this.selectedItem.cost/3):0},playerGold:function(){return r.playerCharacter.gold}}},Ee=Le,Fe=(i("ec7e"),Object(u["a"])(Ee,Ne,Ae,!1,null,"a869dc66",null)),Je=Fe.exports,We=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"battle-screen"},[s("div",{staticClass:"log-and-unit-card-container"},[s("div",{directives:[{name:"show",rawName:"v-show",value:!e.displayCard,expression:"!displayCard"}],staticClass:"event-log"},[s("ul",{staticClass:"event-log-info-list scroll"},e._l(e.updateBattleEventLog,(function(t,i){return s("li",{key:i},[e._v(e._s(t))])})),0)]),e.displayCard?s("div",{staticClass:"active-unit-card"},[e.activeUnit.imgUrl?s("img",{attrs:{src:i("67f7")("./"+e.activeUnit.imgUrl),alt:""}}):e._e(),s("div",{staticClass:"stat-block-card"},[s("div",{staticClass:"card-regular-stats"},[e.activeUnit.name?s("p",[e._v(e._s(e.activeUnit.name))]):e._e(),e.activeUnit.hp?s("p",[e._v("Hit Points: "+e._s(e.activeUnit.hp)+"/"+e._s(e.activeUnit.maxHp))]):e._e(),e.activeUnit.dmg?s("p",[e._v("Damage: "+e._s(e.activeUnit.dmg))]):e._e(),e.activeUnit.initiative?s("p",[e._v("Initiative: "+e._s(e.activeUnit.initiative))]):e._e()]),s("div",{staticClass:"special-abilities"},[s("h4",[e._v("Special abilities:")]),s("ul",{staticClass:"special-abilities-list-sheet"},[e.activeUnit.regeneration>0?s("li",[e._v("Regeneration: "+e._s(e.activeUnit.regeneration))]):e._e(),e.activeUnit.absorption>0?s("li",[e._v("Absorbtion: "+e._s(e.activeUnit.absorption))]):e._e()]),s("h4",[e._v("Status effects:")]),s("ul",{staticClass:"special-abilities-list-sheet"},[e.activeUnit.poisonTicks>0?s("li",[e._v("Poisoned!")]):e._e()])])])]):e._e()]),s("div",{staticClass:"battle-wrapper"},[s("div",{staticClass:"battle-display-grid"},[s("div",{staticClass:"enemy-grid-wrapper"},[s("div",{staticClass:"enemy-units-grid"},[e.enemyUnit1?s("div",{staticClass:"unit enemy-unit-1 enemy-unit",on:{click:function(t){return e.attackFunction(e.enemyUnit1)}}},[s("img",{attrs:{src:i("67f7")("./"+e.enemyUnit1.imgUrl),alt:""}}),s("div",{staticClass:"hp-display  "},[e._v(e._s(e.enemyUnit1.hp))]),s("div",{staticClass:"enemy-unit-1-hit-anim"})]):e._e(),e.enemyUnit1?e._e():s("div",{staticClass:"unit-placeholder "},[s("img",{attrs:{src:i("9246"),alt:""}}),s("div",{staticClass:"placeholder-enemy-1"})]),e.enemyUnit2?s("div",{staticClass:"unit enemy-unit-2 enemy-unit",on:{click:function(t){return e.attackFunction(e.enemyUnit2)}}},[s("img",{attrs:{src:i("67f7")("./"+e.enemyUnit2.imgUrl),alt:""}}),s("div",{staticClass:"hp-display  "},[e._v(e._s(e.enemyUnit2.hp))]),s("div",{staticClass:"enemy-unit-2-hit-anim"})]):e._e(),e.enemyUnit2?e._e():s("div",{staticClass:"unit-placeholder "},[s("div",{staticClass:"placeholder-enemy-2"})]),e.enemyUnit3?s("div",{staticClass:"unit enemy-unit-3 enemy-unit",on:{click:function(t){return e.attackFunction(e.enemyUnit3)}}},[s("img",{attrs:{src:i("67f7")("./"+e.enemyUnit3.imgUrl),alt:""}}),s("div",{staticClass:"hp-display  "},[e._v(e._s(e.enemyUnit3.hp))]),s("div",{staticClass:"enemy-unit-3-hit-anim"})]):e._e(),e.enemyUnit3?e._e():s("div",{staticClass:"unit-placeholder "},[s("div",{staticClass:"placeholder-enemy-3"})]),e.enemyUnit4?s("div",{staticClass:"unit enemy-unit-4 enemy-unit",on:{click:function(t){return e.attackFunction(e.enemyUnit4)}}},[s("img",{attrs:{src:i("67f7")("./"+e.enemyUnit4.imgUrl),alt:""}}),s("div",{staticClass:"hp-display  "},[e._v(e._s(e.enemyUnit4.hp))]),s("div",{staticClass:"enemy-unit-4-hit-anim"})]):e._e(),e.enemyUnit4?e._e():s("div",{staticClass:"unit-placeholder "},[s("div",{staticClass:"placeholder-enemy-4"})]),e.enemyUnit5?s("div",{staticClass:"unit enemy-unit-5 enemy-unit",on:{click:function(t){return e.attackFunction(e.enemyUnit5)}}},[s("img",{attrs:{src:i("67f7")("./"+e.enemyUnit5.imgUrl),alt:""}}),s("div",{staticClass:"hp-display  "},[e._v(e._s(e.enemyUnit5.hp))]),s("div",{staticClass:"enemy-unit-5-hit-anim"})]):e._e(),e.enemyUnit5?e._e():s("div",{staticClass:"unit-placeholder "},[s("div",{staticClass:"placeholder-enemy-5"})]),e.enemyUnit6?s("div",{staticClass:"unit enemy-unit-6 enemy-unit",on:{click:function(t){return e.attackFunction(e.enemyUnit6)}}},[s("img",{attrs:{src:i("67f7")("./"+e.enemyUnit6.imgUrl),alt:""}}),s("div",{staticClass:"hp-display  "},[e._v(e._s(e.enemyUnit6.hp))]),s("div",{staticClass:"enemy-unit-6-hit-anim"})]):e._e(),e.enemyUnit6?e._e():s("div",{staticClass:"unit-placeholder "},[s("div",{staticClass:"placeholder-enemy-6"})]),e.enemyUnit7?s("div",{staticClass:"unit enemy-unit-7 enemy-unit",on:{click:function(t){return e.attackFunction(e.enemyUnit7)}}},[s("img",{attrs:{src:i("67f7")("./"+e.enemyUnit7.imgUrl),alt:""}}),s("div",{staticClass:"hp-display  "},[e._v(e._s(e.enemyUnit7.hp))]),s("div",{staticClass:"enemy-unit-7-hit-anim"})]):e._e(),e.enemyUnit7?e._e():s("div",{staticClass:"unit-placeholder "},[s("div",{staticClass:"placeholder-enemy-7"})]),e.enemyUnit8?s("div",{staticClass:"unit enemy-unit-8 enemy-unit",on:{click:function(t){return e.attackFunction(e.enemyUnit8)}}},[s("img",{attrs:{src:i("67f7")("./"+e.enemyUnit8.imgUrl),alt:""}}),s("div",{staticClass:"hp-display  "},[e._v(e._s(e.enemyUnit8.hp))]),s("div",{staticClass:"enemy-unit-8-hit-anim"})]):e._e(),e.enemyUnit8?e._e():s("div",{staticClass:"unit-placeholder "},[s("div",{staticClass:"placeholder-enemy-8"})])])]),s("div",{staticClass:"division"}),s("div",{staticClass:"player-grid-wrapper"},[s("div",{staticClass:"player-units-grid"},[e.playerUnit1?s("div",{staticClass:"unit player-unit-1 player-unit"},[s("img",{attrs:{src:i("67f7")("./"+e.playerUnit1.imgUrl),alt:""}}),s("div",{staticClass:"hp-display  "},[e._v(e._s(e.playerUnit1.hp))]),s("div",{staticClass:"player-unit-1-hit-anim"})]):e._e(),e.playerUnit1?e._e():s("div",{staticClass:"unit-placeholder "},[s("div",{staticClass:"placeholder-player-1"}),s("img",{attrs:{src:i("9246"),alt:""}})]),e.playerUnit2?s("div",{staticClass:"unit player-unit-2 player-unit"},[s("img",{attrs:{src:i("67f7")("./"+e.playerUnit2.imgUrl),alt:""}}),s("div",{staticClass:"hp-display  "},[e._v(e._s(e.playerUnit2.hp))]),s("div",{staticClass:"player-unit-2-hit-anim"})]):e._e(),e.playerUnit2?e._e():s("div",{staticClass:"unit-placeholder "},[s("div",{staticClass:"placeholder-player-2"})]),e.playerUnit3?s("div",{staticClass:"unit player-unit-3 player-unit"},[s("img",{attrs:{src:i("67f7")("./"+e.playerUnit3.imgUrl),alt:""}}),s("div",{staticClass:"hp-display  "},[e._v(e._s(e.playerUnit3.hp))]),s("div",{staticClass:"player-unit-3-hit-anim"})]):e._e(),e.playerUnit3?e._e():s("div",{staticClass:"unit-placeholder "},[s("div",{staticClass:"placeholder-player-3"})]),e.playerUnit4?s("div",{staticClass:"unit player-unit-4 player-unit"},[s("img",{attrs:{src:i("67f7")("./"+e.playerUnit4.imgUrl),alt:""}}),s("div",{staticClass:"hp-display  "},[e._v(e._s(e.playerUnit4.hp))]),s("div",{staticClass:"player-unit-4-hit-anim"})]):e._e(),e.playerUnit4?e._e():s("div",{staticClass:"unit-placeholder "},[s("div",{staticClass:"placeholder-player-4"})]),e.playerUnit5?s("div",{staticClass:"unit player-unit-5 player-unit"},[s("img",{attrs:{src:i("67f7")("./"+e.playerUnit5.imgUrl),alt:""}}),s("div",{staticClass:"hp-display  "},[e._v(e._s(e.playerUnit5.hp))]),s("div",{staticClass:"player-unit-5-hit-anim"})]):e._e(),e.playerUnit5?e._e():s("div",{staticClass:"unit-placeholder "},[s("div",{staticClass:"placeholder-player-5"})]),e.playerUnit6?s("div",{staticClass:"unit player-unit-6 player-unit"},[s("img",{attrs:{src:i("67f7")("./"+e.playerUnit6.imgUrl),alt:""}}),s("div",{staticClass:"hp-display  "},[e._v(e._s(e.playerUnit6.hp))]),s("div",{staticClass:"player-unit-6-hit-anim"})]):e._e(),e.playerUnit6?e._e():s("div",{staticClass:"unit-placeholder"},[s("div",{staticClass:"placeholder-player-6"})]),e.playerUnit7?s("div",{staticClass:"unit player-unit-7 player-unit"},[s("img",{attrs:{src:i("67f7")("./"+e.playerUnit7.imgUrl),alt:""}}),s("div",{staticClass:"hp-display  "},[e._v(e._s(e.playerUnit7.hp))]),s("div",{staticClass:"player-unit-7-hit-anim"})]):e._e(),e.playerUnit7?e._e():s("div",{staticClass:"unit-placeholder "},[s("div",{staticClass:"placeholder-player-7"})]),e.playerUnit8?s("div",{staticClass:"unit player-unit-8 player-unit"},[s("img",{attrs:{src:i("67f7")("./"+e.playerUnit8.imgUrl),alt:""}}),s("div",{staticClass:"hp-display  "},[e._v(e._s(e.playerUnit8.hp))]),s("div",{staticClass:"player-unit-8-hit-anim"})]):e._e(),e.playerUnit8?e._e():s("div",{staticClass:"unit-placeholder "},[s("div",{staticClass:"placeholder-player-8"})])])])])]),s("div",{staticClass:"buttons-wrapper"},[e.enemyWon||e.playerWon?e._e():s("div",{staticClass:"log-card-switch-btn btn",on:{click:e.switchDisplay}},[e._v(e._s(e.infoDisplayMode))]),e.enemyWon||e.playerWon?e._e():s("div",{staticClass:"skills-btn btn"},[e._v("SPELLS")]),e.enemyWon?s("div",{staticClass:"continue-to-end-game end-game-btns btn",on:{click:e.gameOver}},[e._v("CONTINUE")]):e._e(),e.playerWon?s("div",{staticClass:"continue-to-victory end-game-btns btn",on:{click:e.battleWon}},[e._v("CONTINUE")]):e._e()])])},$e=[],Ge={data:function(){return{playerUnits:[],playerUnitsSecondWave:[],enemyUnits:[],infoDisplayMode:"INFO CARD",displayCard:!1,playerWon:!1,enemyWon:!1,updateBattleEventLog:[],duringPlayerMove:!1,playerUnit1:void 0,playerUnit2:void 0,playerUnit3:void 0,playerUnit4:void 0,playerUnit5:void 0,playerUnit6:void 0,playerUnit7:void 0,playerUnit8:void 0,enemyUnit1:void 0,enemyUnit2:void 0,enemyUnit3:void 0,enemyUnit4:void 0,enemyUnit5:void 0,enemyUnit6:void 0,enemyUnit7:void 0,enemyUnit8:void 0,selectModeActive:!1,initiativeQ:[],unitsToMove:[],unitsMoved:[]}},methods:{closeBattle:function(){this.$emit("closeBattleScreen")},switchDisplay:function(){this.displayCard=!this.displayCard,this.displayCard?this.infoDisplayMode="BATTLE LOG":this.infoDisplayMode="INFO CARD"},updateScroll:function(){var e=this.$el.querySelector(".scroll");e.scrollTop=e.scrollHeight},deathUpdate:function(){var e=this;if(this.playerUnit1&&this.playerUnit1.hp<=0){var t=this.playerUnits.indexOf(this.playerUnit1);this.playerUnits.splice(t,1),this.playerUnit1=void 0}if(this.playerUnit2&&this.playerUnit2.hp<=0){var i=this.playerUnits.indexOf(this.playerUnit2);this.playerUnits.splice(i,1),this.playerUnit2=void 0}if(this.playerUnit3&&this.playerUnit3.hp<=0){var s=this.playerUnits.indexOf(this.playerUnit3);this.playerUnits.splice(s,1),this.playerUnit3=void 0}if(this.playerUnit4&&this.playerUnit4.hp<=0){var a=this.playerUnits.indexOf(this.playerUnit4);this.playerUnits.splice(a,1),this.playerUnit4=void 0}if(this.playerUnit5&&this.playerUnit5.hp<=0){var n=this.playerUnits.indexOf(this.playerUnit5);this.playerUnits.splice(n,1),this.playerUnit5=void 0}if(this.playerUnit6&&this.playerUnit6.hp<=0){var r=this.playerUnits.indexOf(this.playerUnit6);this.playerUnits.splice(r,1),this.playerUnit6=void 0}if(this.playerUnit7&&this.playerUnit7.hp<=0){var o=this.playerUnits.indexOf(this.playerUnit7);this.playerUnits.splice(o,1),this.playerUnit7=void 0}if(this.playerUnit8&&this.playerUnit8.hp<=0){var c=this.playerUnits.indexOf(this.playerUnit8);this.playerUnits.splice(c,1),this.playerUnit8=void 0}if(this.enemyUnit1&&this.enemyUnit1.hp<=0){var l=this.enemyUnits.indexOf(this.enemyUnit1);this.enemyUnits.splice(l,1),this.enemyUnit1=void 0}if(this.enemyUnit2&&this.enemyUnit2.hp<=0){var d=this.enemyUnits.indexOf(this.enemyUnit2);this.enemyUnits.splice(d,1),this.enemyUnit2=void 0}if(this.enemyUnit3&&this.enemyUnit3.hp<=0){var p=this.enemyUnits.indexOf(this.enemyUnit3);this.enemyUnits.splice(p,1),this.enemyUnit3=void 0}if(this.enemyUnit4&&this.enemyUnit4.hp<=0){var u=this.enemyUnits.indexOf(this.enemyUnit4);this.enemyUnits.splice(u,1),this.enemyUnit4=void 0}if(this.enemyUnit5&&this.enemyUnit5.hp<=0){var m=this.enemyUnits.indexOf(this.enemyUnit5);this.enemyUnits.splice(m,1),this.enemyUnit5=void 0}if(this.enemyUnit6&&this.enemyUnit6.hp<=0){var h=this.enemyUnits.indexOf(this.enemyUnit6);this.enemyUnits.splice(h,1),this.enemyUnit6=void 0}if(this.enemyUnit7&&this.enemyUnit7.hp<=0){var y=this.enemyUnits.indexOf(this.enemyUnit7);this.enemyUnits.splice(y,1),this.enemyUnit7=void 0}if(this.enemyUnit8&&this.enemyUnit8.hp<=0){var v=this.enemyUnits.indexOf(this.enemyUnit8);this.enemyUnits.splice(v,1),this.enemyUnit8=void 0}this.unitsMoved.forEach((function(t){if(t.hp<=0){var i=e.unitsMoved.indexOf(t);e.unitsMoved.splice(i,1)}}))},startBattle:function(){var e=this;return Object(ye["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.checkForVictory(),!e.playerWon){t.next=3;break}return t.abrupt("return");case 3:if(!e.duringPlayerMove){t.next=5;break}return t.abrupt("return");case 5:if(e.checkStacksForDeadUnits(),"enemy"!==e.unitsToMove[0].owner){t.next=10;break}return"[]"!==JSON.stringify(e.unitsToMove)&&"enemy"===e.unitsToMove[0].owner&&e.$el.querySelector("."+e.unitsToMove[0].owner+"-unit-"+e.unitsToMove[0].position).classList.add("active-enemy-unit-border"),t.next=10,e.enemyMoveFunction();case 10:"player"===e.unitsToMove[0].owner&&("[]"!==JSON.stringify(e.unitsToMove)&&"player"===e.unitsToMove[0].owner&&e.$el.querySelector(".player-unit-"+e.unitsToMove[0].position).classList.add("active-player-unit-border"),e.selectModeActive=!0,e.duringPlayerMove=!0),e.checkForVictory(),e.playerWon||e.startBattle();case 13:case"end":return t.stop()}}),t)})))()},checkForNextTurn:function(){0===this.unitsToMove.length&&(this.newTurn(),this.updateLog("Next turn starts."))},passiveAbilities:function(){var e=this,t=this;this.unitsMoved.forEach((function(i){i.poisonTicks>0&&(t.$el.querySelector("."+i.owner+"-unit-"+i.position+"-hit-anim").classList.add("poison-tick"),Object(W["setTimeout"])((function(){e.$el.querySelector("."+i.owner+"-unit-"+i.position+"-hit-anim").classList.remove("poison-tick")}),500),i.hp-=i.poisonValue,i.poisonTicks-=1,e.updateLog(i.name+" takes "+i.poisonValue+" damage from poison.")),i.hp+=i.regeneration,i.hp>i.maxHp&&(i.hp=i.maxHp),i.regeneration>0&&e.updateLog(i.name+" regenerates "+i.regeneration+" hit points.")})),this.checkStacksForDeadUnits()},attackFunction:function(e){!0===this.selectModeActive&&(this.selectModeActive=!1,this.damageFunction(this.unitsToMove[0],e),this.deathUpdate(),this.$el.querySelectorAll(".player-unit").forEach((function(e){e.classList.remove("active-player-unit-border")})),this.unitsMoved.push(this.unitsToMove[0]),this.unitsToMove.shift(),this.duringPlayerMove=!1,this.checkForNextTurn(),this.startBattle())},enemyMoveFunction:function(){var e=this;return new Promise((function(t){var i=e;"[]"!==JSON.stringify(e.unitsToMove[0])&&"enemy"===e.unitsToMove[0].owner&&e.$el.querySelector("."+e.unitsToMove[0].owner+"-unit-"+e.unitsToMove[0].position).classList.add("active-enemy-unit-border"),Object(W["setTimeout"])((function(){if("enemy"===i.unitsToMove[0].owner&&i.playerUnits.length>0){for(var e=0;e<i.playerUnits.length;e++)if(i.playerUnits[e].hp>0){i.damageFunction(i.unitsToMove[0],i.playerUnits[e]),i.deathUpdate();break}i.$el.querySelectorAll(".enemy-unit").forEach((function(e){e.classList.remove("active-enemy-unit-border")})),i.unitsMoved.push(i.unitsToMove[0]),i.unitsToMove.shift(),i.checkForNextTurn(),i.updateScroll(),t("enemyMoveFunction")}else Object(W["setTimeout"])((function(){i.enemyWon=!0}),500)}),700)}))},damageFunction:function(e,t){var i=this;function s(){return e.dmg-t.absorption>0?e.dmg-t.absorption:1}if(this.$el.querySelector("."+t.owner+"-unit-"+t.position+"-hit-anim").classList.add("hit-anim"),Object(W["setTimeout"])((function(){i.$el.querySelector("."+t.owner+"-unit-"+t.position+"-hit-anim")?i.$el.querySelector("."+t.owner+"-unit-"+t.position+"-hit-anim").classList.remove("hit-anim"):i.$el.querySelector(".placeholder-"+t.owner+"-"+t.position)&&i.$el.querySelector(".placeholder-"+t.owner+"-"+t.position).classList.add("hit-death")}),300),t.hp-=s(),t.hp<0&&(t.hp=0),this.updateLog(t.name+" is hit for "+s()+" by the "+e.name+"."),t.absorption>0&&this.updateLog(t.name+" absorbs "+t.absorption+" damage!"),e.poisonDuration>0&&((!t.poisonTicks||t.poisonTicks<e.poisonDuration)&&(t.poisonTicks=e.poisonDuration),(!t.poisonValue||t.poisonValue<e.poisonDmg)&&(t.poisonValue=e.poisonDmg),this.updateLog(t.name+" is poisoned by the "+e.name+"!")),t.hp<=0){var a=this.playerUnits.indexOf(t);if(this.checkStacksForDeadUnits(),this.updateLog(t.name+" is killed!"),"player"===t.owner&&this.playerUnitsSecondWave.length>0){var n="playerUnit"+t.position;this.playerUnits.splice(a,0,this.playerUnitsSecondWave[0]),this.playerUnitsSecondWave.shift(),this.unitsToMove.push(this.playerUnits[a]),this.playerUnits[a].position=t.position,this[n]=this.playerUnits[a],this.updateLog("One of your units, "+this.playerUnits[a].name+", enters the battle from reserves in the place of the fallen "+t.name+"!")}}},checkStacksForDeadUnits:function(){this.deathUpdate(),this.unitsToMove=this.unitsToMove.filter((function(e){return e.hp>0})),this.unitsMoved=this.unitsMoved.filter((function(e){return e.hp>0})),this.playerUnits=this.playerUnits.filter((function(e){return e.hp>0}))},newTurn:function(){0===this.unitsToMove.length&&(this.passiveAbilities(),this.unitsToMove=this.unitsMoved,this.unitsMoved=[])},checkForVictory:function(){void 0===this.enemyUnit1&&void 0===this.enemyUnit2&&void 0===this.enemyUnit3&&void 0===this.enemyUnit4&&void 0===this.enemyUnit5&&void 0===this.enemyUnit6&&void 0===this.enemyUnit7&&void 0===this.enemyUnit8&&(this.checkStacksForDeadUnits(),this.playerUnits.forEach((function(e){e.hp=e.maxHp})),this.playerWon=!0,this.updateBattleEventLog.push("You defeat the forces of order! The battle is won! You can continue your experiments undisturbed... for now."))},gameOver:function(){this.$emit("gameOver")},battleWon:function(){var e;(this.checkStacksForDeadUnits(),r.playerCharacter.creatures=this.playerUnits,this.playerUnitsSecondWave.length>0)&&(e=r.playerCharacter.creatures).push.apply(e,Object(E["a"])(this.playerUnitsSecondWave));this.$emit("playerWins")},updateLog:function(e){var t=this;this.updateBattleEventLog.push(e),Object(W["setTimeout"])((function(){t.updateScroll()}),100)},sortUnits:function(e){var t=e+"Units";this[t].sort((function(e,t){return e.position===t.position&&(e.position++,e.position>8&&(e.position=8)),t.position-e.position}))},assignPositions:function(e){var t=this,i=this;function s(e){if(e.position>=9){var t=i[a].indexOf(e);i[a].splice(t,1),i.playerUnitsSecondWave.push(e)}}var a=e+"Units",n=e+"Unit";this[a].forEach((function(e){for(var i=1;i<=8;i++){var a=n+i;s(e),e.position===i&&(t[a]?(e.position++,s(e)):t[a]=e)}}))}},computed:{activeUnit:function(){return 0===this.unitsToMove.length?this.unitsMoved[0]:this.unitsToMove[0]}},created:function(){var e=this;if(this.enemyUnits=r.gameState.enemyUnits,this.enemyUnits.forEach((function(e){JSON.stringify(r.playerCharacter.seenEnemies).includes(JSON.stringify(e))||r.playerCharacter.seenEnemies.push(e)})),this.sortUnits("enemy"),this.updateBattleEventLog.push("Angry townspeople are at your gates, undoubtedly to end good doctor's life. Let's hope your monsters are strong enough..."),0===r.playerCharacter.creatures.length&&(this.updateLog("Alas! You have no creatures to defend yourself! What an ill, unjust fate for a good doctor! The townspeople see to it that justice is done here and now..."),Object(W["setTimeout"])((function(){e.enemyWon=!0}),500)),r.playerCharacter.creatures.length>8){var t,i=r.playerCharacter.creatures.slice(8,r.playerCharacter.creatures.length);(t=this.playerUnitsSecondWave).push.apply(t,Object(E["a"])(i))}this.playerUnits=r.playerCharacter.creatures.slice(0,8),this.sortUnits("player"),this.assignPositions("player"),this.assignPositions("enemy");var s=[].concat(Object(E["a"])(this.playerUnits),Object(E["a"])(this.enemyUnits));s.sort((function(e,t){return t.initiative-e.initiative})),this.unitsToMove=s},mounted:function(){this.startBattle()}},je=Ge,Ve=(i("b36c"),Object(u["a"])(je,We,$e,!1,null,"6fb7d637",null)),Ye=Ve.exports,qe={components:{Graveyard:V,Workshop:Z,Inventory:ae,Creations:Ue,Town:Je,Character:de,BattleComponent:Ye,Bestiary:Ie},data:function(){return{menuOpened:!1,graveyardOpened:!1,townOpened:!1,workshopOneped:!1,animateHourglass:!1,inventoryOpened:!1,creationsOpened:!1,characterOpened:!1,bestiaryOpened:!1,loadGameOpened:!1,turnCounter:r.gameState.turnCounter,currentActionPoints:r.playerCharacter.calculateActionPoints(),infoForEventLog:[],playerAttacked:!1,endGame:!1,endGameMessage:"For your atrocities, for desacrating the graves of their friends and loved ones, for creating abominations, summoning unholy demons and dark entities from beyond the veil, for all of this, you hang tonight. At least, that's what they say to you, as they put the noose around your neck.",unitsOfOrder:[],playersWins:0,dugGraves:!1,mapMode:!1}},methods:{openMenu:function(){this.menuOpened=!this.menuOpened,this.loadGameOpened=!1},openGraveyard:function(){this.graveyardOpened=!0},openWorkshop:function(){this.workshopOneped=!0},openInventory:function(){this.inventoryOpened=!0},openCreations:function(){this.creationsOpened=!0},playerVictory:function(){this.playerAttacked=!1,this.playersWins++},loadAutosave:function(){0!==localStorage.length&&(r.gameState=JSON.parse(localStorage.getItem("autosaveGameState")),r.playerCharacter=JSON.parse(localStorage.getItem("autosavePlayerCharacter")),this.turnCounter=r.gameState.turnCounter,this.playersWins=+localStorage.getItem("playersWins"),r.playerCharacter.magicFind=function(){return 2*this.statistics.Luck+this.MFbonus},r.playerCharacter.calculateActionPoints=function(){var e=Math.floor(this.statistics.Endurance/3);return e>1?e+this.ManOfAction:1+this.ManOfAction},r.playerCharacter.experienceForNextLevel=function(){return 500*this.level},this.playerAttacked=!1,this.unitsOfOrder=[],this.menuOpened=!1,this.inventoryOpened=!1,this.creationsOpened=!1,this.workshopOneped=!1,this.graveyardOpened=!1,this.infoForEventLog.push("Autosave loaded."),this.updateScroll())},nextTurn:function(){var e=this;localStorage.setItem("autosavePlayerCharacter",JSON.stringify(r.playerCharacter)),localStorage.setItem("autosaveGameState",JSON.stringify(r.gameState)),localStorage.setItem("playersWins",this.playersWins),this.generateOrderUnits(),this.animateHourglass=!0,this.currentActionPoints=r.playerCharacter.calculateActionPoints(),this.turnCounter++,r.gameState.turnCounter=this.turnCounter,this.infoForEventLog.push("Begins turn "+this.turnCounter+"."),this.infoForEventLog.push("Game saved on autosave."),this.pushInfoForEventLog(),this.infoForEventLog=[],this.dugGraves&&(r.playerCharacter.hostilityLevel+=12),this.dugGraves=!1,Object(W["setTimeout"])((function(){e.animateHourglass=!1,e.updateScroll()}),400);var t=this.randomIntNumberFromInterval(1,100);t>60&&(r.playerCharacter.hostilityLevel+=2,this.infoForEventLog.push("People from the town start to be wary of your presence...")),this.checkForHostility()},increaseHostility:function(){!1===this.dugGraves&&this.infoForEventLog.push("You desacrated the nerbay graveyard. Town's hostility level increases"),this.dugGraves=!0},randomIntNumberFromInterval:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},checkForHostility:function(){this.hostilityLevel>=100&&(this.playerAttacked=!0,r.playerCharacter.hostilityLevel=0)},pushInfoForEventLog:function(){var e;(e=r.eventLog).push.apply(e,Object(E["a"])(this.infoForEventLog))},closeGraveyard:function(){this.graveyardOpened=!1},updateScroll:function(){var e=this.$el.querySelector(".scroll");e.scrollTop=e.scrollHeight},deductAP:function(){this.currentActionPoints--},abortAndExitToMenu:function(){r.gameState.isNewGame=!1,r.gameState.characterCreated=!1,r.playerCharacter={},r.eventLog=[],r.gameState.turnCounter=1},gameOver:function(){this.playerAttacked="false",this.endGame=!0,this.endGameMessage="For your atrocities, for desacrating the graves of their friends and loved ones, for creating abominations, summoning unholy demons and dark entities from beyond the veil, for all of this, you hang tonight. At least, that's what they say to you, as they put the noose around your neck."},generateOrderUnits:function(){function e(e){return 1===e?"peasant":e>1&&e<11?"blacksmith":e>11&&e<20?"pikeman":e>20&&e<30?"executioner":e>30&&e<50?"assassin":e>50&&e<100||e>100?"knight":void 0}if("[]"===JSON.stringify(this.unitsOfOrder)){var t=2+this.playersWins;t>8&&(t=8);for(var i=0;i<t;i++){var s=this.randomIntNumberFromInterval(1,this.turnCounter),a=Math.floor(this.playersWins/2)+Math.floor(this.turnCounter/2)+s,n=void 0,c=this.randomIntNumberFromInterval(1,a);switch(e(c)){default:n=o.createPeasant();break;case"peasant":n=o.createPeasant();break;case"blacksmith":n=o.createBlacksmith();break;case"pikeman":n=o.createPikeman();break;case"executioner":n=o.createExecutioner();break;case"assassin":n=o.createAssassin();break;case"knight":n=o.createKnight();break}this.unitsOfOrder.push(n)}r.gameState.enemyUnits=this.unitsOfOrder}}},computed:{updateEventLog:function(){return r.eventLog},hostilityLevel:function(){return r.playerCharacter.hostilityLevel},madeCreaturesTotal:function(){return r.gameState.madeCreatures},mobileSize:function(){return window.innerHeight>639}}},ze=qe,Xe=(i("4cfb"),Object(u["a"])(ze,D,L,!1,null,"596b4655",null)),Ke=Xe.exports,Ze={components:{CreateCharacter:R,MainScreen:Ke},data:function(){return{}},computed:{gameState:function(){return r.gameState}}},Qe=Ze,et=(i("c096"),Object(u["a"])(Qe,y,v,!1,null,"6aae6a3a",null)),tt=et.exports,it={components:{Home:h,GameComponent:tt},data:function(){return{}},computed:{newGame:function(){return r.gameState.isNewGame}}},st=it,at=(i("034f"),Object(u["a"])(st,a,n,!1,null,null,null)),nt=at.exports,rt=i("8c4f");s["a"].use(rt["a"]);var ot=[{path:"/",name:"Home",component:h}],ct=new rt["a"]({mode:"history",base:"/maddoctor/",routes:ot}),lt=ct;s["a"].config.productionTip=!1,new s["a"]({router:lt,render:function(e){return e(nt)}}).$mount("#app")},"5b02":function(e,t,i){e.exports=i.p+"img/rotting-head.5a5ac07d.svg"},"5d8e":function(e,t,i){e.exports=i.p+"img/wolf-man.3be979d3.svg"},"5f36":function(e,t,i){"use strict";var s=i("0b4d"),a=i.n(s);a.a},"645b":function(e,t,i){e.exports=i.p+"img/ribcage.5c02ac2f.svg"},"648a":function(e,t,i){e.exports=i.p+"img/clawed-arm.7f06b16e.svg"},"67f7":function(e,t,i){var s={"./assassin.svg":"ad04","./automaton.svg":"1767","./blacksmith.svg":"17ef","./bone-arms.svg":"9e05","./bone-legs.svg":"0beb","./brain-parasite.svg":"0d4a","./bull-head.svg":"23a4","./buy.svg":"cb9b","./clawed-arm.svg":"648a","./cog.svg":"038c","./cracked-skull.svg":"b10b","./dead-ico.svg":"1002","./demonology-book.svg":"6d41","./dig-grave.svg":"f10a","./dig-shovel.svg":"ce0d","./emptyfield.svg":"9246","./executioner.svg":"1859","./fresh-arms.svg":"8ee1","./grave-intro-img.svg":"7ab4","./graveyard.svg":"6f39","./hourglass-no-bg.svg":"3524","./hourglass.svg":"833a","./imp.svg":"7e98","./knight.svg":"6b42","./map.svg":"0443","./minotaur.svg":"0879","./necromancy-book.svg":"3a58","./necromancy-book3.svg":"9762","./peasant.svg":"0d79","./pikeman.svg":"70cb","./placeholder.svg":"0139","./poison-transparent.svg":"9110","./poison.svg":"038e","./ribcage.svg":"645b","./rotting-arm.svg":"85b6","./rotting-brain-transparent.svg":"04ee","./rotting-brain.svg":"d32a","./rotting-head.svg":"5b02","./rotting-heart-transparent.svg":"c0c7","./rotting-heart.svg":"a901","./rotting-leg.svg":"778a","./rotting-torso.svg":"ff5f","./skeleton.svg":"a464","./slash-transparent.svg":"2f3c","./switch.svg":"221d","./template-creature-portrait.svg":"0d13","./town.svg":"4416","./trollheart.svg":"903d","./vampire-girl-claws.svg":"46a2","./vampire-girl-head.svg":"ae03","./vampire-girl-legs.svg":"cc2c","./vampire-girl-torso.svg":"c336","./vampire-girl.svg":"6f39a","./werewolf-claws.svg":"29fb","./werewolf-head.svg":"bca0","./werewolf.svg":"4bba","./wolf-man.svg":"5d8e","./workshop.svg":"94cd","./zombie.svg":"8c12"};function a(e){var t=n(e);return i(t)}function n(e){if(!i.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}a.keys=function(){return Object.keys(s)},a.resolve=n,e.exports=a,a.id="67f7"},"6b42":function(e,t,i){e.exports=i.p+"img/knight.ff0f7587.svg"},"6d41":function(e,t,i){e.exports=i.p+"img/demonology-book.3c3fcc3b.svg"},"6eff":function(e,t,i){"use strict";var s=i("c46e"),a=i.n(s);a.a},"6f39":function(e,t,i){e.exports=i.p+"img/graveyard.56fab8e7.svg"},"6f39a":function(e,t,i){e.exports=i.p+"img/vampire-girl.be6ae6a7.svg"},"70cb":function(e,t,i){e.exports=i.p+"img/pikeman.66abd52e.svg"},"778a":function(e,t,i){e.exports=i.p+"img/rotting-leg.07de665e.svg"},"7ab4":function(e,t,i){e.exports=i.p+"img/grave-intro-img.24d72f24.svg"},"7e98":function(e,t,i){e.exports=i.p+"img/imp.72199f65.svg"},"809b":function(e,t,i){"use strict";var s=i("ab7e"),a=i.n(s);a.a},"833a":function(e,t,i){e.exports=i.p+"img/hourglass.22071ae7.svg"},"85b6":function(e,t,i){e.exports=i.p+"img/rotting-arm.f71edf8e.svg"},"85ec":function(e,t,i){},"8aaf":function(e,t,i){},"8ba1":function(e,t,i){"use strict";var s=i("b0d2"),a=i.n(s);a.a},"8c12":function(e,t,i){e.exports=i.p+"img/zombie.2f6adcfd.svg"},"8ee1":function(e,t,i){e.exports=i.p+"img/fresh-arms.18b35d45.svg"},"903d":function(e,t,i){e.exports=i.p+"img/trollheart.3394d4e7.svg"},9110:function(e,t,i){e.exports=i.p+"img/poison-transparent.7de8586e.svg"},9246:function(e,t,i){e.exports=i.p+"img/emptyfield.e992a037.svg"},"94cd":function(e,t,i){e.exports=i.p+"img/workshop.9661d255.svg"},9762:function(e,t,i){e.exports=i.p+"img/necromancy-book3.85e724cb.svg"},"9e05":function(e,t,i){e.exports=i.p+"img/bone-arms.cda91923.svg"},a464:function(e,t,i){e.exports=i.p+"img/skeleton.7a2abc22.svg"},a4d1:function(e,t,i){},a901:function(e,t,i){e.exports=i.p+"img/rotting-heart.acaae339.svg"},ab7e:function(e,t,i){},ad04:function(e,t,i){e.exports=i.p+"img/assassin.05883976.svg"},ada2:function(e,t,i){},adf4:function(e,t,i){"use strict";var s=i("1d9f"),a=i.n(s);a.a},ae03:function(e,t,i){e.exports=i.p+"img/vampire-girl-head.2e906309.svg"},b0d2:function(e,t,i){},b10b:function(e,t,i){e.exports=i.p+"img/cracked-skull.ac9a20fd.svg"},b36c:function(e,t,i){"use strict";var s=i("a4d1"),a=i.n(s);a.a},ba6c:function(e,t,i){"use strict";var s=i("42d1"),a=i.n(s);a.a},bca0:function(e,t,i){e.exports=i.p+"img/werewolf-head.6e6b06f9.svg"},c096:function(e,t,i){"use strict";var s=i("8aaf"),a=i.n(s);a.a},c0c7:function(e,t,i){e.exports=i.p+"img/rotting-heart-transparent.057fff7e.svg"},c336:function(e,t,i){e.exports=i.p+"img/vampire-girl-torso.2006be9d.svg"},c46e:function(e,t,i){},cb9b:function(e,t,i){e.exports=i.p+"img/buy.e22cbb65.svg"},cc2c:function(e,t,i){e.exports=i.p+"img/vampire-girl-legs.30bf5963.svg"},ce0d:function(e,t,i){e.exports=i.p+"img/dig-shovel.2ed854b6.svg"},d32a:function(e,t,i){e.exports=i.p+"img/rotting-brain.f687b12a.svg"},ea9f:function(e,t,i){},ec7e:function(e,t,i){"use strict";var s=i("2004"),a=i.n(s);a.a},f10a:function(e,t,i){e.exports=i.p+"img/dig-grave.69893227.svg"},f454:function(e,t,i){"use strict";var s=i("1683"),a=i.n(s);a.a},fa27:function(e,t,i){},ff5f:function(e,t,i){e.exports=i.p+"img/rotting-torso.a63783b6.svg"}});
//# sourceMappingURL=app.5bb96c90.js.map